{"timestamp": "2026-02-17T15:04:53.972001+00:00", "level": "INFO", "logger": "app.main", "message": "Dodana kolona roles.description (NVARCHAR(255))", "module": "main", "function": "_add_column_if_missing", "line": 81}
{"timestamp": "2026-02-17T15:04:53.980775+00:00", "level": "INFO", "logger": "app.main", "message": "Dodana kolona roles.is_system (BIT)", "module": "main", "function": "_add_column_if_missing", "line": 81}
{"timestamp": "2026-02-17T15:04:53.989945+00:00", "level": "INFO", "logger": "app.main", "message": "Dodana kolona roles.created_at (DATETIME)", "module": "main", "function": "_add_column_if_missing", "line": 81}
{"timestamp": "2026-02-17T15:04:53.999472+00:00", "level": "INFO", "logger": "app.main", "message": "Dodana kolona users.role_id (INT)", "module": "main", "function": "_add_column_if_missing", "line": 81}
{"timestamp": "2026-02-17T15:04:54.010033+00:00", "level": "INFO", "logger": "app.main", "message": "Dodana kolona users.warehouse_id (INT)", "module": "main", "function": "_add_column_if_missing", "line": 81}
{"timestamp": "2026-02-17T15:04:54.019666+00:00", "level": "INFO", "logger": "app.main", "message": "Dodana kolona users.vozac_id (INT)", "module": "main", "function": "_add_column_if_missing", "line": 81}
{"timestamp": "2026-02-17T15:04:54.028942+00:00", "level": "INFO", "logger": "app.main", "message": "Dodana kolona users.force_password_change (BIT)", "module": "main", "function": "_add_column_if_missing", "line": 81}
{"timestamp": "2026-02-17T15:04:54.039996+00:00", "level": "INFO", "logger": "app.main", "message": "Dodana kolona users.locked (BIT)", "module": "main", "function": "_add_column_if_missing", "line": 81}
{"timestamp": "2026-02-17T15:04:54.049907+00:00", "level": "INFO", "logger": "app.main", "message": "Dodana kolona users.failed_login_attempts (INT)", "module": "main", "function": "_add_column_if_missing", "line": 81}
{"timestamp": "2026-02-17T15:04:54.060261+00:00", "level": "INFO", "logger": "app.main", "message": "Dodana kolona users.last_login (DATETIME)", "module": "main", "function": "_add_column_if_missing", "line": 81}
{"timestamp": "2026-02-17T15:04:54.070021+00:00", "level": "INFO", "logger": "app.main", "message": "Dodana kolona users.last_login_ip (NVARCHAR(45))", "module": "main", "function": "_add_column_if_missing", "line": 81}
{"timestamp": "2026-02-17T15:04:54.078792+00:00", "level": "INFO", "logger": "app.main", "message": "Dodana kolona audit_log.old_values (NVARCHAR(MAX))", "module": "main", "function": "_add_column_if_missing", "line": 81}
{"timestamp": "2026-02-17T15:04:54.088622+00:00", "level": "INFO", "logger": "app.main", "message": "Dodana kolona audit_log.new_values (NVARCHAR(MAX))", "module": "main", "function": "_add_column_if_missing", "line": 81}
{"timestamp": "2026-02-17T15:04:54.096142+00:00", "level": "INFO", "logger": "app.main", "message": "Dodana kolona audit_log.ip_address (NVARCHAR(45))", "module": "main", "function": "_add_column_if_missing", "line": 81}
{"timestamp": "2026-02-17T15:04:54.106183+00:00", "level": "INFO", "logger": "app.main", "message": "Dodana kolona audit_log.user_agent (NVARCHAR(500))", "module": "main", "function": "_add_column_if_missing", "line": 81}
{"timestamp": "2026-02-17T15:04:54.115405+00:00", "level": "INFO", "logger": "app.main", "message": "Dodana kolona audit_log.warehouse_id (INT)", "module": "main", "function": "_add_column_if_missing", "line": 81}
{"timestamp": "2026-02-17T15:04:54.125962+00:00", "level": "INFO", "logger": "app.main", "message": "Dodana kolona audit_log.correlation_id (NVARCHAR(36))", "module": "main", "function": "_add_column_if_missing", "line": 81}
{"timestamp": "2026-02-17T15:04:54.138410+00:00", "level": "INFO", "logger": "app.main", "message": "Dodana kolona vozila.registracija (NVARCHAR(20))", "module": "main", "function": "_add_column_if_missing", "line": 81}
{"timestamp": "2026-02-17T15:04:54.147309+00:00", "level": "INFO", "logger": "app.main", "message": "Dodana kolona skladista.code (NVARCHAR(10))", "module": "main", "function": "_add_column_if_missing", "line": 81}
{"timestamp": "2026-02-17T15:04:54.157015+00:00", "level": "INFO", "logger": "app.main", "message": "Dodana kolona skladista.is_central (BIT)", "module": "main", "function": "_add_column_if_missing", "line": 81}
{"timestamp": "2026-02-17T15:04:54.165535+00:00", "level": "INFO", "logger": "app.main", "message": "Dodana kolona skladista.radno_vrijeme_od (NVARCHAR(5))", "module": "main", "function": "_add_column_if_missing", "line": 81}
{"timestamp": "2026-02-17T15:04:54.175714+00:00", "level": "INFO", "logger": "app.main", "message": "Dodana kolona skladista.radno_vrijeme_do (NVARCHAR(5))", "module": "main", "function": "_add_column_if_missing", "line": 81}
{"timestamp": "2026-02-17T15:04:54.185532+00:00", "level": "INFO", "logger": "app.main", "message": "Dodana kolona skladista.kontakt_telefon (NVARCHAR(50))", "module": "main", "function": "_add_column_if_missing", "line": 81}
{"timestamp": "2026-02-17T15:04:54.194652+00:00", "level": "INFO", "logger": "app.main", "message": "Dodana kolona skladista.kontakt_email (NVARCHAR(100))", "module": "main", "function": "_add_column_if_missing", "line": 81}
{"timestamp": "2026-02-17T15:04:54.204250+00:00", "level": "INFO", "logger": "app.main", "message": "Dodana kolona skladista.max_vozila (INT)", "module": "main", "function": "_add_column_if_missing", "line": 81}
{"timestamp": "2026-02-17T15:04:54.727131+00:00", "level": "INFO", "logger": "app.main", "message": "Admin user kreiran (admin / admin123) â€” OBAVEZNO promijeni lozinku!", "module": "main", "function": "_ensure_tables", "line": 260}
{"timestamp": "2026-02-17T15:06:52.823597+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/auth/me [cid=d2cbf075]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "d2cbf075"}
{"timestamp": "2026-02-17T15:06:52.828833+00:00", "level": "WARNING", "logger": "app.main", "message": "GET /api/auth/me -> 401 (5ms) [cid=d2cbf075]", "module": "main", "function": "log_requests", "line": 51, "correlation_id": "d2cbf075"}
{"timestamp": "2026-02-17T15:06:52.835135+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/auth/me [cid=bb302ceb]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "bb302ceb"}
{"timestamp": "2026-02-17T15:06:52.837220+00:00", "level": "WARNING", "logger": "app.main", "message": "GET /api/auth/me -> 401 (2ms) [cid=bb302ceb]", "module": "main", "function": "log_requests", "line": 51, "correlation_id": "bb302ceb"}
{"timestamp": "2026-02-17T15:06:57.923048+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/settings [cid=e50a4f44]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "e50a4f44"}
{"timestamp": "2026-02-17T15:06:57.924033+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/prioriteti [cid=54f5ad0c]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "54f5ad0c"}
{"timestamp": "2026-02-17T15:06:57.930280+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/statusi [cid=b57fcee6]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "b57fcee6"}
{"timestamp": "2026-02-17T15:06:57.933670+00:00", "level": "WARNING", "logger": "app.main", "message": "GET /api/prioriteti -> 401 (10ms) [cid=54f5ad0c]", "module": "main", "function": "log_requests", "line": 51, "correlation_id": "54f5ad0c"}
{"timestamp": "2026-02-17T15:06:57.934086+00:00", "level": "WARNING", "logger": "app.main", "message": "GET /api/settings -> 401 (11ms) [cid=e50a4f44]", "module": "main", "function": "log_requests", "line": 51, "correlation_id": "e50a4f44"}
{"timestamp": "2026-02-17T15:06:57.934326+00:00", "level": "WARNING", "logger": "app.main", "message": "GET /api/statusi -> 401 (4ms) [cid=b57fcee6]", "module": "main", "function": "log_requests", "line": 51, "correlation_id": "b57fcee6"}
{"timestamp": "2026-02-17T15:06:58.400299+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/auth/me [cid=e6ef1fec]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "e6ef1fec"}
{"timestamp": "2026-02-17T15:06:58.403227+00:00", "level": "WARNING", "logger": "app.main", "message": "GET /api/auth/me -> 401 (3ms) [cid=e6ef1fec]", "module": "main", "function": "log_requests", "line": 51, "correlation_id": "e6ef1fec"}
{"timestamp": "2026-02-17T15:06:58.411246+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/auth/me [cid=25b7f8da]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "25b7f8da"}
{"timestamp": "2026-02-17T15:06:58.413411+00:00", "level": "WARNING", "logger": "app.main", "message": "GET /api/auth/me -> 401 (2ms) [cid=25b7f8da]", "module": "main", "function": "log_requests", "line": 51, "correlation_id": "25b7f8da"}
{"timestamp": "2026-02-17T15:07:28.529990+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/auth/login [cid=28997938]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "28997938"}
{"timestamp": "2026-02-17T15:07:28.818397+00:00", "level": "INFO", "logger": "app.api.auth", "message": "Login: user=admin ip=127.0.0.1", "module": "auth", "function": "login", "line": 167, "correlation_id": "28997938"}
{"timestamp": "2026-02-17T15:07:58.722847+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/auth/change-password [cid=d9d6eceb]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "d9d6eceb"}
{"timestamp": "2026-02-17T15:07:58.950641+00:00", "level": "WARNING", "logger": "app.main", "message": "POST /api/auth/change-password -> 400 (228ms) [cid=d9d6eceb]", "module": "main", "function": "log_requests", "line": 51, "correlation_id": "d9d6eceb"}
{"timestamp": "2026-02-17T15:08:31.097367+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/auth/change-password [cid=312ca9c6]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "312ca9c6"}
{"timestamp": "2026-02-17T15:08:31.525094+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/auth/me [cid=c992b5e4]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "c992b5e4"}
{"timestamp": "2026-02-17T15:08:31.573435+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders [cid=11c67b20]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "11c67b20"}
{"timestamp": "2026-02-17T15:08:31.573878+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routes [cid=3c2d3659]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "3c2d3659"}
{"timestamp": "2026-02-17T15:08:31.574243+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/vehicles [cid=f5aca824]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "f5aca824"}
{"timestamp": "2026-02-17T15:08:48.677006+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/settings [cid=66f9f349]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "66f9f349"}
{"timestamp": "2026-02-17T15:08:48.677639+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/prioriteti [cid=53fc1124]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "53fc1124"}
{"timestamp": "2026-02-17T15:08:48.677922+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/statusi [cid=ed3ac28b]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "ed3ac28b"}
{"timestamp": "2026-02-17T15:08:50.820965+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/warehouses [cid=5441e92f]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "5441e92f"}
{"timestamp": "2026-02-17T15:08:50.946674+00:00", "level": "CRITICAL", "logger": "app.main", "message": "UNHANDLED EXCEPTION on GET /api/warehouses [cid=5441e92f]: 1 validation error for WarehouseOut\nis_central\n  Input should be a valid boolean [type=bool_type, input_value=None, input_type=NoneType]\n    For further information visit https://errors.pydantic.dev/2.10/v/bool_type\n  + Exception Group Traceback (most recent call last):\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 186, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    |     with collapse_excgroups():\n    |          ~~~~~~~~~~~~~~~~~~^^\n    |   File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    |     raise app_exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    |     return await run_in_threadpool(dependant.call, **values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    |     return await anyio.to_thread.run_sync(func, *args)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    |     return await get_async_backend().run_sync_in_worker_thread(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    |     return await future\n    |            ^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    |     result = context.run(func, *args)\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\warehouses.py\", line 85, in list_warehouses\n    |     return [WarehouseOut.model_validate(w) for w in whs]\n    |             ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\pydantic\\main.py\", line 627, in model_validate\n    |     return cls.__pydantic_validator__.validate_python(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         obj, strict=strict, from_attributes=from_attributes, context=context\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    | pydantic_core._pydantic_core.ValidationError: 1 validation error for WarehouseOut\n    | is_central\n    |   Input should be a valid boolean [type=bool_type, input_value=None, input_type=NoneType]\n    |     For further information visit https://errors.pydantic.dev/2.10/v/bool_type\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    with collapse_excgroups():\n         ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    result = context.run(func, *args)\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\warehouses.py\", line 85, in list_warehouses\n    return [WarehouseOut.model_validate(w) for w in whs]\n            ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\pydantic\\main.py\", line 627, in model_validate\n    return cls.__pydantic_validator__.validate_python(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        obj, strict=strict, from_attributes=from_attributes, context=context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\npydantic_core._pydantic_core.ValidationError: 1 validation error for WarehouseOut\nis_central\n  Input should be a valid boolean [type=bool_type, input_value=None, input_type=NoneType]\n    For further information visit https://errors.pydantic.dev/2.10/v/bool_type\n", "module": "main", "function": "global_exception_handler", "line": 25, "correlation_id": "5441e92f", "exception": {"type": "ValidationError", "message": "1 validation error for WarehouseOut\nis_central\n  Input should be a valid boolean [type=bool_type, input_value=None, input_type=NoneType]\n    For further information visit https://errors.pydantic.dev/2.10/v/bool_type"}}
{"timestamp": "2026-02-17T15:08:51.959629+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/warehouses [cid=003d5a31]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "003d5a31"}
{"timestamp": "2026-02-17T15:08:51.969338+00:00", "level": "CRITICAL", "logger": "app.main", "message": "UNHANDLED EXCEPTION on GET /api/warehouses [cid=003d5a31]: 1 validation error for WarehouseOut\nis_central\n  Input should be a valid boolean [type=bool_type, input_value=None, input_type=NoneType]\n    For further information visit https://errors.pydantic.dev/2.10/v/bool_type\n  + Exception Group Traceback (most recent call last):\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 186, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    |     with collapse_excgroups():\n    |          ~~~~~~~~~~~~~~~~~~^^\n    |   File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    |     raise app_exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    |     return await run_in_threadpool(dependant.call, **values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    |     return await anyio.to_thread.run_sync(func, *args)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    |     return await get_async_backend().run_sync_in_worker_thread(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    |     return await future\n    |            ^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    |     result = context.run(func, *args)\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\warehouses.py\", line 85, in list_warehouses\n    |     return [WarehouseOut.model_validate(w) for w in whs]\n    |             ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\pydantic\\main.py\", line 627, in model_validate\n    |     return cls.__pydantic_validator__.validate_python(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         obj, strict=strict, from_attributes=from_attributes, context=context\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    | pydantic_core._pydantic_core.ValidationError: 1 validation error for WarehouseOut\n    | is_central\n    |   Input should be a valid boolean [type=bool_type, input_value=None, input_type=NoneType]\n    |     For further information visit https://errors.pydantic.dev/2.10/v/bool_type\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    with collapse_excgroups():\n         ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    result = context.run(func, *args)\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\warehouses.py\", line 85, in list_warehouses\n    return [WarehouseOut.model_validate(w) for w in whs]\n            ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\pydantic\\main.py\", line 627, in model_validate\n    return cls.__pydantic_validator__.validate_python(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        obj, strict=strict, from_attributes=from_attributes, context=context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\npydantic_core._pydantic_core.ValidationError: 1 validation error for WarehouseOut\nis_central\n  Input should be a valid boolean [type=bool_type, input_value=None, input_type=NoneType]\n    For further information visit https://errors.pydantic.dev/2.10/v/bool_type\n", "module": "main", "function": "global_exception_handler", "line": 25, "correlation_id": "003d5a31", "exception": {"type": "ValidationError", "message": "1 validation error for WarehouseOut\nis_central\n  Input should be a valid boolean [type=bool_type, input_value=None, input_type=NoneType]\n    For further information visit https://errors.pydantic.dev/2.10/v/bool_type"}}
{"timestamp": "2026-02-17T15:08:56.857128+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/audit [cid=58077a7d]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "58077a7d"}
{"timestamp": "2026-02-17T15:09:02.032262+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/users [cid=38eef2fa]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "38eef2fa"}
{"timestamp": "2026-02-17T15:09:02.033171+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles [cid=16336f54]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "16336f54"}
{"timestamp": "2026-02-17T15:09:02.085578+00:00", "level": "CRITICAL", "logger": "app.main", "message": "UNHANDLED EXCEPTION on GET /api/roles [cid=16336f54]: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n  + Exception Group Traceback (most recent call last):\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 186, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    |     with collapse_excgroups():\n    |          ~~~~~~~~~~~~~~~~~~^^\n    |   File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    |     raise app_exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    |     return await run_in_threadpool(dependant.call, **values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    |     return await anyio.to_thread.run_sync(func, *args)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    |     return await get_async_backend().run_sync_in_worker_thread(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    |     return await future\n    |            ^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    |     result = context.run(func, *args)\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\roles.py\", line 73, in list_roles\n    |     roles = db.execute(select(Role).order_by(Role.name)).scalars().all()\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 1769, in all\n    |     return self._allrows()\n    |            ~~~~~~~~~~~~~^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 565, in _allrows\n    |     strategy(made_row) if strategy else made_row,\n    |     ~~~~~~~~^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\orm\\loading.py\", line 285, in require_unique\n    |     raise sa_exc.InvalidRequestError(\n    |     ...<3 lines>...\n    |     )\n    | sqlalchemy.exc.InvalidRequestError: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    with collapse_excgroups():\n         ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    result = context.run(func, *args)\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\roles.py\", line 73, in list_roles\n    roles = db.execute(select(Role).order_by(Role.name)).scalars().all()\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 1769, in all\n    return self._allrows()\n           ~~~~~~~~~~~~~^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 565, in _allrows\n    strategy(made_row) if strategy else made_row,\n    ~~~~~~~~^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\orm\\loading.py\", line 285, in require_unique\n    raise sa_exc.InvalidRequestError(\n    ...<3 lines>...\n    )\nsqlalchemy.exc.InvalidRequestError: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n", "module": "main", "function": "global_exception_handler", "line": 25, "correlation_id": "16336f54", "exception": {"type": "InvalidRequestError", "message": "The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections"}}
{"timestamp": "2026-02-17T15:09:02.102301+00:00", "level": "CRITICAL", "logger": "app.main", "message": "UNHANDLED EXCEPTION on GET /api/users [cid=38eef2fa]: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n  + Exception Group Traceback (most recent call last):\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 186, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    |     with collapse_excgroups():\n    |          ~~~~~~~~~~~~~~~~~~^^\n    |   File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    |     raise app_exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    |     return await run_in_threadpool(dependant.call, **values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    |     return await anyio.to_thread.run_sync(func, *args)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    |     return await get_async_backend().run_sync_in_worker_thread(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    |     return await future\n    |            ^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    |     result = context.run(func, *args)\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\users.py\", line 100, in list_users\n    |     users = db.execute(select(User).order_by(User.username)).scalars().all()\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 1769, in all\n    |     return self._allrows()\n    |            ~~~~~~~~~~~~~^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 565, in _allrows\n    |     strategy(made_row) if strategy else made_row,\n    |     ~~~~~~~~^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\orm\\loading.py\", line 285, in require_unique\n    |     raise sa_exc.InvalidRequestError(\n    |     ...<3 lines>...\n    |     )\n    | sqlalchemy.exc.InvalidRequestError: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    with collapse_excgroups():\n         ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    result = context.run(func, *args)\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\users.py\", line 100, in list_users\n    users = db.execute(select(User).order_by(User.username)).scalars().all()\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 1769, in all\n    return self._allrows()\n           ~~~~~~~~~~~~~^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 565, in _allrows\n    strategy(made_row) if strategy else made_row,\n    ~~~~~~~~^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\orm\\loading.py\", line 285, in require_unique\n    raise sa_exc.InvalidRequestError(\n    ...<3 lines>...\n    )\nsqlalchemy.exc.InvalidRequestError: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n", "module": "main", "function": "global_exception_handler", "line": 25, "correlation_id": "38eef2fa", "exception": {"type": "InvalidRequestError", "message": "The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections"}}
{"timestamp": "2026-02-17T15:09:03.104632+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles [cid=78fbca24]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "78fbca24"}
{"timestamp": "2026-02-17T15:09:03.112271+00:00", "level": "CRITICAL", "logger": "app.main", "message": "UNHANDLED EXCEPTION on GET /api/roles [cid=78fbca24]: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n  + Exception Group Traceback (most recent call last):\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 186, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    |     with collapse_excgroups():\n    |          ~~~~~~~~~~~~~~~~~~^^\n    |   File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    |     raise app_exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    |     return await run_in_threadpool(dependant.call, **values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    |     return await anyio.to_thread.run_sync(func, *args)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    |     return await get_async_backend().run_sync_in_worker_thread(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    |     return await future\n    |            ^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    |     result = context.run(func, *args)\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\roles.py\", line 73, in list_roles\n    |     roles = db.execute(select(Role).order_by(Role.name)).scalars().all()\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 1769, in all\n    |     return self._allrows()\n    |            ~~~~~~~~~~~~~^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 565, in _allrows\n    |     strategy(made_row) if strategy else made_row,\n    |     ~~~~~~~~^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\orm\\loading.py\", line 285, in require_unique\n    |     raise sa_exc.InvalidRequestError(\n    |     ...<3 lines>...\n    |     )\n    | sqlalchemy.exc.InvalidRequestError: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    with collapse_excgroups():\n         ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    result = context.run(func, *args)\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\roles.py\", line 73, in list_roles\n    roles = db.execute(select(Role).order_by(Role.name)).scalars().all()\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 1769, in all\n    return self._allrows()\n           ~~~~~~~~~~~~~^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 565, in _allrows\n    strategy(made_row) if strategy else made_row,\n    ~~~~~~~~^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\orm\\loading.py\", line 285, in require_unique\n    raise sa_exc.InvalidRequestError(\n    ...<3 lines>...\n    )\nsqlalchemy.exc.InvalidRequestError: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n", "module": "main", "function": "global_exception_handler", "line": 25, "correlation_id": "78fbca24", "exception": {"type": "InvalidRequestError", "message": "The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections"}}
{"timestamp": "2026-02-17T15:09:03.120071+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/users [cid=11790828]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "11790828"}
{"timestamp": "2026-02-17T15:09:03.128706+00:00", "level": "CRITICAL", "logger": "app.main", "message": "UNHANDLED EXCEPTION on GET /api/users [cid=11790828]: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n  + Exception Group Traceback (most recent call last):\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 186, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    |     with collapse_excgroups():\n    |          ~~~~~~~~~~~~~~~~~~^^\n    |   File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    |     raise app_exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    |     return await run_in_threadpool(dependant.call, **values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    |     return await anyio.to_thread.run_sync(func, *args)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    |     return await get_async_backend().run_sync_in_worker_thread(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    |     return await future\n    |            ^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    |     result = context.run(func, *args)\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\users.py\", line 100, in list_users\n    |     users = db.execute(select(User).order_by(User.username)).scalars().all()\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 1769, in all\n    |     return self._allrows()\n    |            ~~~~~~~~~~~~~^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 565, in _allrows\n    |     strategy(made_row) if strategy else made_row,\n    |     ~~~~~~~~^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\orm\\loading.py\", line 285, in require_unique\n    |     raise sa_exc.InvalidRequestError(\n    |     ...<3 lines>...\n    |     )\n    | sqlalchemy.exc.InvalidRequestError: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    with collapse_excgroups():\n         ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    result = context.run(func, *args)\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\users.py\", line 100, in list_users\n    users = db.execute(select(User).order_by(User.username)).scalars().all()\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 1769, in all\n    return self._allrows()\n           ~~~~~~~~~~~~~^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 565, in _allrows\n    strategy(made_row) if strategy else made_row,\n    ~~~~~~~~^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\orm\\loading.py\", line 285, in require_unique\n    raise sa_exc.InvalidRequestError(\n    ...<3 lines>...\n    )\nsqlalchemy.exc.InvalidRequestError: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n", "module": "main", "function": "global_exception_handler", "line": 25, "correlation_id": "11790828", "exception": {"type": "InvalidRequestError", "message": "The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections"}}
{"timestamp": "2026-02-17T15:10:13.842847+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/users [cid=947dd879]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "947dd879"}
{"timestamp": "2026-02-17T15:10:14.092587+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/users [cid=a4fd780c]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "a4fd780c"}
{"timestamp": "2026-02-17T15:10:14.109279+00:00", "level": "CRITICAL", "logger": "app.main", "message": "UNHANDLED EXCEPTION on GET /api/users [cid=a4fd780c]: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n  + Exception Group Traceback (most recent call last):\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 186, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    |     with collapse_excgroups():\n    |          ~~~~~~~~~~~~~~~~~~^^\n    |   File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    |     raise app_exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    |     return await run_in_threadpool(dependant.call, **values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    |     return await anyio.to_thread.run_sync(func, *args)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    |     return await get_async_backend().run_sync_in_worker_thread(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    |     return await future\n    |            ^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    |     result = context.run(func, *args)\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\users.py\", line 100, in list_users\n    |     users = db.execute(select(User).order_by(User.username)).scalars().all()\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 1769, in all\n    |     return self._allrows()\n    |            ~~~~~~~~~~~~~^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 565, in _allrows\n    |     strategy(made_row) if strategy else made_row,\n    |     ~~~~~~~~^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\orm\\loading.py\", line 285, in require_unique\n    |     raise sa_exc.InvalidRequestError(\n    |     ...<3 lines>...\n    |     )\n    | sqlalchemy.exc.InvalidRequestError: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    with collapse_excgroups():\n         ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    result = context.run(func, *args)\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\users.py\", line 100, in list_users\n    users = db.execute(select(User).order_by(User.username)).scalars().all()\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 1769, in all\n    return self._allrows()\n           ~~~~~~~~~~~~~^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 565, in _allrows\n    strategy(made_row) if strategy else made_row,\n    ~~~~~~~~^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\orm\\loading.py\", line 285, in require_unique\n    raise sa_exc.InvalidRequestError(\n    ...<3 lines>...\n    )\nsqlalchemy.exc.InvalidRequestError: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n", "module": "main", "function": "global_exception_handler", "line": 25, "correlation_id": "a4fd780c", "exception": {"type": "InvalidRequestError", "message": "The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections"}}
{"timestamp": "2026-02-17T15:10:15.118686+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/users [cid=7b62e79b]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "7b62e79b"}
{"timestamp": "2026-02-17T15:10:15.129133+00:00", "level": "CRITICAL", "logger": "app.main", "message": "UNHANDLED EXCEPTION on GET /api/users [cid=7b62e79b]: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n  + Exception Group Traceback (most recent call last):\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 186, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    |     with collapse_excgroups():\n    |          ~~~~~~~~~~~~~~~~~~^^\n    |   File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    |     raise app_exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    |     return await run_in_threadpool(dependant.call, **values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    |     return await anyio.to_thread.run_sync(func, *args)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    |     return await get_async_backend().run_sync_in_worker_thread(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    |     return await future\n    |            ^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    |     result = context.run(func, *args)\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\users.py\", line 100, in list_users\n    |     users = db.execute(select(User).order_by(User.username)).scalars().all()\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 1769, in all\n    |     return self._allrows()\n    |            ~~~~~~~~~~~~~^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 565, in _allrows\n    |     strategy(made_row) if strategy else made_row,\n    |     ~~~~~~~~^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\orm\\loading.py\", line 285, in require_unique\n    |     raise sa_exc.InvalidRequestError(\n    |     ...<3 lines>...\n    |     )\n    | sqlalchemy.exc.InvalidRequestError: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    with collapse_excgroups():\n         ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    result = context.run(func, *args)\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\users.py\", line 100, in list_users\n    users = db.execute(select(User).order_by(User.username)).scalars().all()\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 1769, in all\n    return self._allrows()\n           ~~~~~~~~~~~~~^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 565, in _allrows\n    strategy(made_row) if strategy else made_row,\n    ~~~~~~~~^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\orm\\loading.py\", line 285, in require_unique\n    raise sa_exc.InvalidRequestError(\n    ...<3 lines>...\n    )\nsqlalchemy.exc.InvalidRequestError: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n", "module": "main", "function": "global_exception_handler", "line": 25, "correlation_id": "7b62e79b", "exception": {"type": "InvalidRequestError", "message": "The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections"}}
{"timestamp": "2026-02-17T15:10:42.357661+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/prioriteti [cid=f7fa9f82]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "f7fa9f82"}
{"timestamp": "2026-02-17T15:10:42.365747+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/statusi [cid=c870b9ac]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "c870b9ac"}
{"timestamp": "2026-02-17T15:10:42.366202+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/settings [cid=750d2310]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "750d2310"}
{"timestamp": "2026-02-17T15:10:53.779631+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/warehouses [cid=4422ee1e]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "4422ee1e"}
{"timestamp": "2026-02-17T15:10:53.796819+00:00", "level": "CRITICAL", "logger": "app.main", "message": "UNHANDLED EXCEPTION on GET /api/warehouses [cid=4422ee1e]: 1 validation error for WarehouseOut\nis_central\n  Input should be a valid boolean [type=bool_type, input_value=None, input_type=NoneType]\n    For further information visit https://errors.pydantic.dev/2.10/v/bool_type\n  + Exception Group Traceback (most recent call last):\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 186, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    |     with collapse_excgroups():\n    |          ~~~~~~~~~~~~~~~~~~^^\n    |   File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    |     raise app_exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    |     return await run_in_threadpool(dependant.call, **values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    |     return await anyio.to_thread.run_sync(func, *args)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    |     return await get_async_backend().run_sync_in_worker_thread(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    |     return await future\n    |            ^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    |     result = context.run(func, *args)\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\warehouses.py\", line 85, in list_warehouses\n    |     return [WarehouseOut.model_validate(w) for w in whs]\n    |             ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\pydantic\\main.py\", line 627, in model_validate\n    |     return cls.__pydantic_validator__.validate_python(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         obj, strict=strict, from_attributes=from_attributes, context=context\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    | pydantic_core._pydantic_core.ValidationError: 1 validation error for WarehouseOut\n    | is_central\n    |   Input should be a valid boolean [type=bool_type, input_value=None, input_type=NoneType]\n    |     For further information visit https://errors.pydantic.dev/2.10/v/bool_type\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    with collapse_excgroups():\n         ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    result = context.run(func, *args)\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\warehouses.py\", line 85, in list_warehouses\n    return [WarehouseOut.model_validate(w) for w in whs]\n            ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\pydantic\\main.py\", line 627, in model_validate\n    return cls.__pydantic_validator__.validate_python(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        obj, strict=strict, from_attributes=from_attributes, context=context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\npydantic_core._pydantic_core.ValidationError: 1 validation error for WarehouseOut\nis_central\n  Input should be a valid boolean [type=bool_type, input_value=None, input_type=NoneType]\n    For further information visit https://errors.pydantic.dev/2.10/v/bool_type\n", "module": "main", "function": "global_exception_handler", "line": 25, "correlation_id": "4422ee1e", "exception": {"type": "ValidationError", "message": "1 validation error for WarehouseOut\nis_central\n  Input should be a valid boolean [type=bool_type, input_value=None, input_type=NoneType]\n    For further information visit https://errors.pydantic.dev/2.10/v/bool_type"}}
{"timestamp": "2026-02-17T15:10:54.809242+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/warehouses [cid=97fab9f2]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "97fab9f2"}
{"timestamp": "2026-02-17T15:10:54.822534+00:00", "level": "CRITICAL", "logger": "app.main", "message": "UNHANDLED EXCEPTION on GET /api/warehouses [cid=97fab9f2]: 1 validation error for WarehouseOut\nis_central\n  Input should be a valid boolean [type=bool_type, input_value=None, input_type=NoneType]\n    For further information visit https://errors.pydantic.dev/2.10/v/bool_type\n  + Exception Group Traceback (most recent call last):\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 186, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    |     with collapse_excgroups():\n    |          ~~~~~~~~~~~~~~~~~~^^\n    |   File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    |     raise app_exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    |     return await run_in_threadpool(dependant.call, **values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    |     return await anyio.to_thread.run_sync(func, *args)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    |     return await get_async_backend().run_sync_in_worker_thread(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    |     return await future\n    |            ^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    |     result = context.run(func, *args)\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\warehouses.py\", line 85, in list_warehouses\n    |     return [WarehouseOut.model_validate(w) for w in whs]\n    |             ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\pydantic\\main.py\", line 627, in model_validate\n    |     return cls.__pydantic_validator__.validate_python(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         obj, strict=strict, from_attributes=from_attributes, context=context\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    | pydantic_core._pydantic_core.ValidationError: 1 validation error for WarehouseOut\n    | is_central\n    |   Input should be a valid boolean [type=bool_type, input_value=None, input_type=NoneType]\n    |     For further information visit https://errors.pydantic.dev/2.10/v/bool_type\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    with collapse_excgroups():\n         ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    result = context.run(func, *args)\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\warehouses.py\", line 85, in list_warehouses\n    return [WarehouseOut.model_validate(w) for w in whs]\n            ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\pydantic\\main.py\", line 627, in model_validate\n    return cls.__pydantic_validator__.validate_python(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        obj, strict=strict, from_attributes=from_attributes, context=context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\npydantic_core._pydantic_core.ValidationError: 1 validation error for WarehouseOut\nis_central\n  Input should be a valid boolean [type=bool_type, input_value=None, input_type=NoneType]\n    For further information visit https://errors.pydantic.dev/2.10/v/bool_type\n", "module": "main", "function": "global_exception_handler", "line": 25, "correlation_id": "97fab9f2", "exception": {"type": "ValidationError", "message": "1 validation error for WarehouseOut\nis_central\n  Input should be a valid boolean [type=bool_type, input_value=None, input_type=NoneType]\n    For further information visit https://errors.pydantic.dev/2.10/v/bool_type"}}
{"timestamp": "2026-02-17T15:13:58.788642+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles [cid=c629ad8d]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "c629ad8d"}
{"timestamp": "2026-02-17T15:13:58.791113+00:00", "level": "WARNING", "logger": "app.main", "message": "GET /api/roles -> 401 (3ms) [cid=c629ad8d]", "module": "main", "function": "log_requests", "line": 51, "correlation_id": "c629ad8d"}
{"timestamp": "2026-02-17T15:15:00.694017+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/warehouses [cid=c35063c1]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "c35063c1"}
{"timestamp": "2026-02-17T15:15:00.726787+00:00", "level": "CRITICAL", "logger": "app.main", "message": "UNHANDLED EXCEPTION on GET /api/warehouses [cid=c35063c1]: 1 validation error for WarehouseOut\nis_central\n  Input should be a valid boolean [type=bool_type, input_value=None, input_type=NoneType]\n    For further information visit https://errors.pydantic.dev/2.10/v/bool_type\n  + Exception Group Traceback (most recent call last):\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 186, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    |     with collapse_excgroups():\n    |          ~~~~~~~~~~~~~~~~~~^^\n    |   File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    |     raise app_exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    |     return await run_in_threadpool(dependant.call, **values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    |     return await anyio.to_thread.run_sync(func, *args)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    |     return await get_async_backend().run_sync_in_worker_thread(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    |     return await future\n    |            ^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    |     result = context.run(func, *args)\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\warehouses.py\", line 85, in list_warehouses\n    |     return [WarehouseOut.model_validate(w) for w in whs]\n    |             ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\pydantic\\main.py\", line 627, in model_validate\n    |     return cls.__pydantic_validator__.validate_python(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         obj, strict=strict, from_attributes=from_attributes, context=context\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    | pydantic_core._pydantic_core.ValidationError: 1 validation error for WarehouseOut\n    | is_central\n    |   Input should be a valid boolean [type=bool_type, input_value=None, input_type=NoneType]\n    |     For further information visit https://errors.pydantic.dev/2.10/v/bool_type\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    with collapse_excgroups():\n         ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    result = context.run(func, *args)\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\warehouses.py\", line 85, in list_warehouses\n    return [WarehouseOut.model_validate(w) for w in whs]\n            ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\pydantic\\main.py\", line 627, in model_validate\n    return cls.__pydantic_validator__.validate_python(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        obj, strict=strict, from_attributes=from_attributes, context=context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\npydantic_core._pydantic_core.ValidationError: 1 validation error for WarehouseOut\nis_central\n  Input should be a valid boolean [type=bool_type, input_value=None, input_type=NoneType]\n    For further information visit https://errors.pydantic.dev/2.10/v/bool_type\n", "module": "main", "function": "global_exception_handler", "line": 25, "correlation_id": "c35063c1", "exception": {"type": "ValidationError", "message": "1 validation error for WarehouseOut\nis_central\n  Input should be a valid boolean [type=bool_type, input_value=None, input_type=NoneType]\n    For further information visit https://errors.pydantic.dev/2.10/v/bool_type"}}
{"timestamp": "2026-02-17T15:15:01.746696+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/warehouses [cid=366a9686]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "366a9686"}
{"timestamp": "2026-02-17T15:15:01.777003+00:00", "level": "CRITICAL", "logger": "app.main", "message": "UNHANDLED EXCEPTION on GET /api/warehouses [cid=366a9686]: 1 validation error for WarehouseOut\nis_central\n  Input should be a valid boolean [type=bool_type, input_value=None, input_type=NoneType]\n    For further information visit https://errors.pydantic.dev/2.10/v/bool_type\n  + Exception Group Traceback (most recent call last):\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 186, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    |     with collapse_excgroups():\n    |          ~~~~~~~~~~~~~~~~~~^^\n    |   File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    |     raise app_exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    |     return await run_in_threadpool(dependant.call, **values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    |     return await anyio.to_thread.run_sync(func, *args)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    |     return await get_async_backend().run_sync_in_worker_thread(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    |     return await future\n    |            ^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    |     result = context.run(func, *args)\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\warehouses.py\", line 85, in list_warehouses\n    |     return [WarehouseOut.model_validate(w) for w in whs]\n    |             ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\pydantic\\main.py\", line 627, in model_validate\n    |     return cls.__pydantic_validator__.validate_python(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         obj, strict=strict, from_attributes=from_attributes, context=context\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    | pydantic_core._pydantic_core.ValidationError: 1 validation error for WarehouseOut\n    | is_central\n    |   Input should be a valid boolean [type=bool_type, input_value=None, input_type=NoneType]\n    |     For further information visit https://errors.pydantic.dev/2.10/v/bool_type\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    with collapse_excgroups():\n         ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    result = context.run(func, *args)\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\warehouses.py\", line 85, in list_warehouses\n    return [WarehouseOut.model_validate(w) for w in whs]\n            ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\pydantic\\main.py\", line 627, in model_validate\n    return cls.__pydantic_validator__.validate_python(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        obj, strict=strict, from_attributes=from_attributes, context=context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\npydantic_core._pydantic_core.ValidationError: 1 validation error for WarehouseOut\nis_central\n  Input should be a valid boolean [type=bool_type, input_value=None, input_type=NoneType]\n    For further information visit https://errors.pydantic.dev/2.10/v/bool_type\n", "module": "main", "function": "global_exception_handler", "line": 25, "correlation_id": "366a9686", "exception": {"type": "ValidationError", "message": "1 validation error for WarehouseOut\nis_central\n  Input should be a valid boolean [type=bool_type, input_value=None, input_type=NoneType]\n    For further information visit https://errors.pydantic.dev/2.10/v/bool_type"}}
{"timestamp": "2026-02-17T15:15:44.349350+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/warehouses [cid=de991074]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "de991074"}
{"timestamp": "2026-02-17T15:15:44.399419+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/warehouses [cid=2d14387c]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "2d14387c"}
{"timestamp": "2026-02-17T15:15:44.413576+00:00", "level": "CRITICAL", "logger": "app.main", "message": "UNHANDLED EXCEPTION on GET /api/warehouses [cid=2d14387c]: 1 validation error for WarehouseOut\nis_central\n  Input should be a valid boolean [type=bool_type, input_value=None, input_type=NoneType]\n    For further information visit https://errors.pydantic.dev/2.10/v/bool_type\n  + Exception Group Traceback (most recent call last):\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 186, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    |     with collapse_excgroups():\n    |          ~~~~~~~~~~~~~~~~~~^^\n    |   File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    |     raise app_exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    |     return await run_in_threadpool(dependant.call, **values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    |     return await anyio.to_thread.run_sync(func, *args)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    |     return await get_async_backend().run_sync_in_worker_thread(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    |     return await future\n    |            ^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    |     result = context.run(func, *args)\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\warehouses.py\", line 85, in list_warehouses\n    |     return [WarehouseOut.model_validate(w) for w in whs]\n    |             ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\pydantic\\main.py\", line 627, in model_validate\n    |     return cls.__pydantic_validator__.validate_python(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         obj, strict=strict, from_attributes=from_attributes, context=context\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    | pydantic_core._pydantic_core.ValidationError: 1 validation error for WarehouseOut\n    | is_central\n    |   Input should be a valid boolean [type=bool_type, input_value=None, input_type=NoneType]\n    |     For further information visit https://errors.pydantic.dev/2.10/v/bool_type\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    with collapse_excgroups():\n         ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    result = context.run(func, *args)\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\warehouses.py\", line 85, in list_warehouses\n    return [WarehouseOut.model_validate(w) for w in whs]\n            ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\pydantic\\main.py\", line 627, in model_validate\n    return cls.__pydantic_validator__.validate_python(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        obj, strict=strict, from_attributes=from_attributes, context=context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\npydantic_core._pydantic_core.ValidationError: 1 validation error for WarehouseOut\nis_central\n  Input should be a valid boolean [type=bool_type, input_value=None, input_type=NoneType]\n    For further information visit https://errors.pydantic.dev/2.10/v/bool_type\n", "module": "main", "function": "global_exception_handler", "line": 25, "correlation_id": "2d14387c", "exception": {"type": "ValidationError", "message": "1 validation error for WarehouseOut\nis_central\n  Input should be a valid boolean [type=bool_type, input_value=None, input_type=NoneType]\n    For further information visit https://errors.pydantic.dev/2.10/v/bool_type"}}
{"timestamp": "2026-02-17T15:15:45.425463+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/warehouses [cid=2542fc0c]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "2542fc0c"}
{"timestamp": "2026-02-17T15:15:45.433901+00:00", "level": "CRITICAL", "logger": "app.main", "message": "UNHANDLED EXCEPTION on GET /api/warehouses [cid=2542fc0c]: 1 validation error for WarehouseOut\nis_central\n  Input should be a valid boolean [type=bool_type, input_value=None, input_type=NoneType]\n    For further information visit https://errors.pydantic.dev/2.10/v/bool_type\n  + Exception Group Traceback (most recent call last):\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 186, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    |     with collapse_excgroups():\n    |          ~~~~~~~~~~~~~~~~~~^^\n    |   File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    |     raise app_exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    |     return await run_in_threadpool(dependant.call, **values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    |     return await anyio.to_thread.run_sync(func, *args)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    |     return await get_async_backend().run_sync_in_worker_thread(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    |     return await future\n    |            ^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    |     result = context.run(func, *args)\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\warehouses.py\", line 85, in list_warehouses\n    |     return [WarehouseOut.model_validate(w) for w in whs]\n    |             ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\pydantic\\main.py\", line 627, in model_validate\n    |     return cls.__pydantic_validator__.validate_python(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         obj, strict=strict, from_attributes=from_attributes, context=context\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    | pydantic_core._pydantic_core.ValidationError: 1 validation error for WarehouseOut\n    | is_central\n    |   Input should be a valid boolean [type=bool_type, input_value=None, input_type=NoneType]\n    |     For further information visit https://errors.pydantic.dev/2.10/v/bool_type\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    with collapse_excgroups():\n         ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    result = context.run(func, *args)\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\warehouses.py\", line 85, in list_warehouses\n    return [WarehouseOut.model_validate(w) for w in whs]\n            ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\pydantic\\main.py\", line 627, in model_validate\n    return cls.__pydantic_validator__.validate_python(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        obj, strict=strict, from_attributes=from_attributes, context=context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\npydantic_core._pydantic_core.ValidationError: 1 validation error for WarehouseOut\nis_central\n  Input should be a valid boolean [type=bool_type, input_value=None, input_type=NoneType]\n    For further information visit https://errors.pydantic.dev/2.10/v/bool_type\n", "module": "main", "function": "global_exception_handler", "line": 25, "correlation_id": "2542fc0c", "exception": {"type": "ValidationError", "message": "1 validation error for WarehouseOut\nis_central\n  Input should be a valid boolean [type=bool_type, input_value=None, input_type=NoneType]\n    For further information visit https://errors.pydantic.dev/2.10/v/bool_type"}}
{"timestamp": "2026-02-17T15:17:44.247471+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/auth/me [cid=c3b8bd5d]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "c3b8bd5d"}
{"timestamp": "2026-02-17T15:17:44.285488+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/auth/me [cid=dd5b98c4]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "dd5b98c4"}
{"timestamp": "2026-02-17T15:17:44.292059+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/warehouses [cid=86b6ded6]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "86b6ded6"}
{"timestamp": "2026-02-17T15:18:01.851596+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/audit [cid=e883a9f1]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "e883a9f1"}
{"timestamp": "2026-02-17T15:18:05.682675+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/auth/me [cid=cc7873d8]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "cc7873d8"}
{"timestamp": "2026-02-17T15:18:05.713087+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/auth/me [cid=a51228da]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "a51228da"}
{"timestamp": "2026-02-17T15:18:05.743855+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/audit [cid=0e573a38]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "0e573a38"}
{"timestamp": "2026-02-17T15:18:46.946657+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders [cid=6ac885fe]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "6ac885fe"}
{"timestamp": "2026-02-17T15:18:46.950377+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/statusi [cid=b1d4e634]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "b1d4e634"}
{"timestamp": "2026-02-17T15:18:46.957223+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/settings [cid=7f3dae77]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "7f3dae77"}
{"timestamp": "2026-02-17T15:18:46.958071+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders/with-criteria [cid=e9f2a177]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "e9f2a177"}
{"timestamp": "2026-02-17T15:18:46.958348+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routing/rutiranje-uids [cid=3ee14afd]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "3ee14afd"}
{"timestamp": "2026-02-17T15:18:46.958990+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/artikli-kriterija/artikl-sifre [cid=a2b8e972]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "a2b8e972"}
{"timestamp": "2026-02-17T15:18:47.241029+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/mantis/orders/bulk [cid=cd09436b]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "cd09436b"}
{"timestamp": "2026-02-17T15:18:47.330027+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "Bulk lazy sync za 55 naloga bez/sa starim cache-om", "module": "mantis_service", "function": "get_sscc_summary_for_orders", "line": 279, "correlation_id": "cd09436b"}
{"timestamp": "2026-02-17T15:18:47.355560+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync: 55 naloga, OrderCodes: ['4573-30', '4579-30', '2156-07', '4581-30', '5218-10', '8207-05', '1392-32', '5929-20', '8227-05', '7149-16']", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 112, "correlation_id": "cd09436b"}
{"timestamp": "2026-02-17T15:18:47.417199+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS vratio 40 redaka za 55 naloga", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 140, "correlation_id": "cd09436b"}
{"timestamp": "2026-02-17T15:18:47.530551+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync zavrÅ¡en: {'synced_orders': 55, 'total_items': 40, 'total_pallets': 17}", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 193, "correlation_id": "cd09436b"}
{"timestamp": "2026-02-17T15:25:35.900717+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders [cid=f4d8fea1]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "f4d8fea1"}
{"timestamp": "2026-02-17T15:25:35.901826+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/statusi [cid=d9fb0158]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "d9fb0158"}
{"timestamp": "2026-02-17T15:25:35.903375+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routing/rutiranje-uids [cid=923e5053]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "923e5053"}
{"timestamp": "2026-02-17T15:25:35.904621+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/settings [cid=a7250bbb]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "a7250bbb"}
{"timestamp": "2026-02-17T15:25:35.905929+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders/with-criteria [cid=91d0b518]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "91d0b518"}
{"timestamp": "2026-02-17T15:25:35.908662+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/mantis/orders/bulk [cid=d87129ed]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "d87129ed"}
{"timestamp": "2026-02-17T15:25:35.942384+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/artikli-kriterija/artikl-sifre [cid=2f3caba2]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "2f3caba2"}
{"timestamp": "2026-02-17T15:25:35.948977+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "Bulk lazy sync za 55 naloga bez/sa starim cache-om", "module": "mantis_service", "function": "get_sscc_summary_for_orders", "line": 279, "correlation_id": "d87129ed"}
{"timestamp": "2026-02-17T15:25:35.968435+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync: 55 naloga, OrderCodes: ['4573-30', '4579-30', '2156-07', '4581-30', '5218-10', '8207-05', '1392-32', '5929-20', '8227-05', '7149-16']", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 112, "correlation_id": "d87129ed"}
{"timestamp": "2026-02-17T15:25:36.051524+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS vratio 40 redaka za 55 naloga", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 140, "correlation_id": "d87129ed"}
{"timestamp": "2026-02-17T15:25:36.165197+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync zavrÅ¡en: {'synced_orders': 55, 'total_items': 40, 'total_pallets': 17}", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 193, "correlation_id": "d87129ed"}
{"timestamp": "2026-02-17T15:25:38.686410+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/auth/me [cid=20272925]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "20272925"}
{"timestamp": "2026-02-17T15:25:38.701820+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/auth/me [cid=e1daeb88]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "e1daeb88"}
{"timestamp": "2026-02-17T15:25:38.729095+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders [cid=dd92aeed]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "dd92aeed"}
{"timestamp": "2026-02-17T15:25:38.731317+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/statusi [cid=456cc1ed]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "456cc1ed"}
{"timestamp": "2026-02-17T15:25:38.732611+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/settings [cid=251d8ad4]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "251d8ad4"}
{"timestamp": "2026-02-17T15:25:38.736592+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routing/rutiranje-uids [cid=63f3c7d1]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "63f3c7d1"}
{"timestamp": "2026-02-17T15:25:38.738087+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders/with-criteria [cid=55461e4f]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "55461e4f"}
{"timestamp": "2026-02-17T15:25:38.738264+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/artikli-kriterija/artikl-sifre [cid=31883c84]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "31883c84"}
{"timestamp": "2026-02-17T15:25:38.977507+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/mantis/orders/bulk [cid=ba2988d3]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "ba2988d3"}
{"timestamp": "2026-02-17T15:25:38.986282+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "Bulk lazy sync za 46 naloga bez/sa starim cache-om", "module": "mantis_service", "function": "get_sscc_summary_for_orders", "line": 279, "correlation_id": "ba2988d3"}
{"timestamp": "2026-02-17T15:25:38.999814+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync: 46 naloga, OrderCodes: ['2156-07', '5218-10', '8207-05', '1392-32', '5929-20', '8227-05', '7149-16', '4021-03', '4133-100', '2349-14']", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 112, "correlation_id": "ba2988d3"}
{"timestamp": "2026-02-17T15:25:39.101537+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS vratio 0 redaka za 46 naloga", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 140, "correlation_id": "ba2988d3"}
{"timestamp": "2026-02-17T15:25:39.109193+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync zavrÅ¡en: {'synced_orders': 46, 'total_items': 0, 'total_pallets': 0}", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 193, "correlation_id": "ba2988d3"}
{"timestamp": "2026-02-17T15:25:40.357166+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles [cid=30989af0]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "30989af0"}
{"timestamp": "2026-02-17T15:25:40.358444+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/users [cid=9535b9d2]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "9535b9d2"}
{"timestamp": "2026-02-17T15:25:40.360633+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/warehouses [cid=b57defba]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "b57defba"}
{"timestamp": "2026-02-17T15:25:40.391954+00:00", "level": "CRITICAL", "logger": "app.main", "message": "UNHANDLED EXCEPTION on GET /api/roles [cid=30989af0]: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n  + Exception Group Traceback (most recent call last):\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 186, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    |     with collapse_excgroups():\n    |          ~~~~~~~~~~~~~~~~~~^^\n    |   File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    |     raise app_exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    |     return await run_in_threadpool(dependant.call, **values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    |     return await anyio.to_thread.run_sync(func, *args)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    |     return await get_async_backend().run_sync_in_worker_thread(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    |     return await future\n    |            ^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    |     result = context.run(func, *args)\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\roles.py\", line 83, in list_roles\n    |     roles = db.execute(select(Role).order_by(Role.name)).scalars().all()\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 1769, in all\n    |     return self._allrows()\n    |            ~~~~~~~~~~~~~^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 565, in _allrows\n    |     strategy(made_row) if strategy else made_row,\n    |     ~~~~~~~~^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\orm\\loading.py\", line 285, in require_unique\n    |     raise sa_exc.InvalidRequestError(\n    |     ...<3 lines>...\n    |     )\n    | sqlalchemy.exc.InvalidRequestError: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    with collapse_excgroups():\n         ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    result = context.run(func, *args)\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\roles.py\", line 83, in list_roles\n    roles = db.execute(select(Role).order_by(Role.name)).scalars().all()\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 1769, in all\n    return self._allrows()\n           ~~~~~~~~~~~~~^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 565, in _allrows\n    strategy(made_row) if strategy else made_row,\n    ~~~~~~~~^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\orm\\loading.py\", line 285, in require_unique\n    raise sa_exc.InvalidRequestError(\n    ...<3 lines>...\n    )\nsqlalchemy.exc.InvalidRequestError: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n", "module": "main", "function": "global_exception_handler", "line": 25, "correlation_id": "30989af0", "exception": {"type": "InvalidRequestError", "message": "The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections"}}
{"timestamp": "2026-02-17T15:25:40.412057+00:00", "level": "CRITICAL", "logger": "app.main", "message": "UNHANDLED EXCEPTION on GET /api/users [cid=9535b9d2]: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n  + Exception Group Traceback (most recent call last):\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 186, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    |     with collapse_excgroups():\n    |          ~~~~~~~~~~~~~~~~~~^^\n    |   File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    |     raise app_exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    |     return await run_in_threadpool(dependant.call, **values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    |     return await anyio.to_thread.run_sync(func, *args)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    |     return await get_async_backend().run_sync_in_worker_thread(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    |     return await future\n    |            ^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    |     result = context.run(func, *args)\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\users.py\", line 100, in list_users\n    |     users = db.execute(select(User).order_by(User.username)).scalars().all()\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 1769, in all\n    |     return self._allrows()\n    |            ~~~~~~~~~~~~~^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 565, in _allrows\n    |     strategy(made_row) if strategy else made_row,\n    |     ~~~~~~~~^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\orm\\loading.py\", line 285, in require_unique\n    |     raise sa_exc.InvalidRequestError(\n    |     ...<3 lines>...\n    |     )\n    | sqlalchemy.exc.InvalidRequestError: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    with collapse_excgroups():\n         ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    result = context.run(func, *args)\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\users.py\", line 100, in list_users\n    users = db.execute(select(User).order_by(User.username)).scalars().all()\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 1769, in all\n    return self._allrows()\n           ~~~~~~~~~~~~~^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 565, in _allrows\n    strategy(made_row) if strategy else made_row,\n    ~~~~~~~~^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\orm\\loading.py\", line 285, in require_unique\n    raise sa_exc.InvalidRequestError(\n    ...<3 lines>...\n    )\nsqlalchemy.exc.InvalidRequestError: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n", "module": "main", "function": "global_exception_handler", "line": 25, "correlation_id": "9535b9d2", "exception": {"type": "InvalidRequestError", "message": "The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections"}}
{"timestamp": "2026-02-17T15:25:41.405975+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles [cid=8563ae5e]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "8563ae5e"}
{"timestamp": "2026-02-17T15:25:41.417492+00:00", "level": "CRITICAL", "logger": "app.main", "message": "UNHANDLED EXCEPTION on GET /api/roles [cid=8563ae5e]: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n  + Exception Group Traceback (most recent call last):\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 186, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    |     with collapse_excgroups():\n    |          ~~~~~~~~~~~~~~~~~~^^\n    |   File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    |     raise app_exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    |     return await run_in_threadpool(dependant.call, **values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    |     return await anyio.to_thread.run_sync(func, *args)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    |     return await get_async_backend().run_sync_in_worker_thread(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    |     return await future\n    |            ^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    |     result = context.run(func, *args)\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\roles.py\", line 83, in list_roles\n    |     roles = db.execute(select(Role).order_by(Role.name)).scalars().all()\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 1769, in all\n    |     return self._allrows()\n    |            ~~~~~~~~~~~~~^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 565, in _allrows\n    |     strategy(made_row) if strategy else made_row,\n    |     ~~~~~~~~^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\orm\\loading.py\", line 285, in require_unique\n    |     raise sa_exc.InvalidRequestError(\n    |     ...<3 lines>...\n    |     )\n    | sqlalchemy.exc.InvalidRequestError: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    with collapse_excgroups():\n         ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    result = context.run(func, *args)\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\roles.py\", line 83, in list_roles\n    roles = db.execute(select(Role).order_by(Role.name)).scalars().all()\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 1769, in all\n    return self._allrows()\n           ~~~~~~~~~~~~~^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 565, in _allrows\n    strategy(made_row) if strategy else made_row,\n    ~~~~~~~~^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\orm\\loading.py\", line 285, in require_unique\n    raise sa_exc.InvalidRequestError(\n    ...<3 lines>...\n    )\nsqlalchemy.exc.InvalidRequestError: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n", "module": "main", "function": "global_exception_handler", "line": 25, "correlation_id": "8563ae5e", "exception": {"type": "InvalidRequestError", "message": "The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections"}}
{"timestamp": "2026-02-17T15:25:41.425901+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/users [cid=65881fc6]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "65881fc6"}
{"timestamp": "2026-02-17T15:25:41.439114+00:00", "level": "CRITICAL", "logger": "app.main", "message": "UNHANDLED EXCEPTION on GET /api/users [cid=65881fc6]: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n  + Exception Group Traceback (most recent call last):\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 186, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    |     with collapse_excgroups():\n    |          ~~~~~~~~~~~~~~~~~~^^\n    |   File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    |     raise app_exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    |     return await run_in_threadpool(dependant.call, **values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    |     return await anyio.to_thread.run_sync(func, *args)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    |     return await get_async_backend().run_sync_in_worker_thread(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    |     return await future\n    |            ^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    |     result = context.run(func, *args)\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\users.py\", line 100, in list_users\n    |     users = db.execute(select(User).order_by(User.username)).scalars().all()\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 1769, in all\n    |     return self._allrows()\n    |            ~~~~~~~~~~~~~^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 565, in _allrows\n    |     strategy(made_row) if strategy else made_row,\n    |     ~~~~~~~~^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\orm\\loading.py\", line 285, in require_unique\n    |     raise sa_exc.InvalidRequestError(\n    |     ...<3 lines>...\n    |     )\n    | sqlalchemy.exc.InvalidRequestError: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    with collapse_excgroups():\n         ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    result = context.run(func, *args)\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\users.py\", line 100, in list_users\n    users = db.execute(select(User).order_by(User.username)).scalars().all()\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 1769, in all\n    return self._allrows()\n           ~~~~~~~~~~~~~^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 565, in _allrows\n    strategy(made_row) if strategy else made_row,\n    ~~~~~~~~^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\orm\\loading.py\", line 285, in require_unique\n    raise sa_exc.InvalidRequestError(\n    ...<3 lines>...\n    )\nsqlalchemy.exc.InvalidRequestError: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n", "module": "main", "function": "global_exception_handler", "line": 25, "correlation_id": "65881fc6", "exception": {"type": "InvalidRequestError", "message": "The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections"}}
{"timestamp": "2026-02-17T15:25:57.553401+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles/permissions/all [cid=46383ec4]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "46383ec4"}
{"timestamp": "2026-02-17T15:25:57.554090+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles [cid=4656fcea]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "4656fcea"}
{"timestamp": "2026-02-17T15:25:57.576494+00:00", "level": "CRITICAL", "logger": "app.main", "message": "UNHANDLED EXCEPTION on GET /api/roles [cid=4656fcea]: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n  + Exception Group Traceback (most recent call last):\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 186, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    |     with collapse_excgroups():\n    |          ~~~~~~~~~~~~~~~~~~^^\n    |   File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    |     raise app_exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    |     return await run_in_threadpool(dependant.call, **values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    |     return await anyio.to_thread.run_sync(func, *args)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    |     return await get_async_backend().run_sync_in_worker_thread(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    |     return await future\n    |            ^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    |     result = context.run(func, *args)\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\roles.py\", line 83, in list_roles\n    |     roles = db.execute(select(Role).order_by(Role.name)).scalars().all()\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 1769, in all\n    |     return self._allrows()\n    |            ~~~~~~~~~~~~~^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 565, in _allrows\n    |     strategy(made_row) if strategy else made_row,\n    |     ~~~~~~~~^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\orm\\loading.py\", line 285, in require_unique\n    |     raise sa_exc.InvalidRequestError(\n    |     ...<3 lines>...\n    |     )\n    | sqlalchemy.exc.InvalidRequestError: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    with collapse_excgroups():\n         ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    result = context.run(func, *args)\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\roles.py\", line 83, in list_roles\n    roles = db.execute(select(Role).order_by(Role.name)).scalars().all()\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 1769, in all\n    return self._allrows()\n           ~~~~~~~~~~~~~^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 565, in _allrows\n    strategy(made_row) if strategy else made_row,\n    ~~~~~~~~^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\orm\\loading.py\", line 285, in require_unique\n    raise sa_exc.InvalidRequestError(\n    ...<3 lines>...\n    )\nsqlalchemy.exc.InvalidRequestError: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n", "module": "main", "function": "global_exception_handler", "line": 25, "correlation_id": "4656fcea", "exception": {"type": "InvalidRequestError", "message": "The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections"}}
{"timestamp": "2026-02-17T15:25:58.599550+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles [cid=10f157c2]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "10f157c2"}
{"timestamp": "2026-02-17T15:25:58.615030+00:00", "level": "CRITICAL", "logger": "app.main", "message": "UNHANDLED EXCEPTION on GET /api/roles [cid=10f157c2]: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n  + Exception Group Traceback (most recent call last):\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 186, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    |     with collapse_excgroups():\n    |          ~~~~~~~~~~~~~~~~~~^^\n    |   File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    |     raise app_exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    |     return await run_in_threadpool(dependant.call, **values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    |     return await anyio.to_thread.run_sync(func, *args)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    |     return await get_async_backend().run_sync_in_worker_thread(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    |     return await future\n    |            ^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    |     result = context.run(func, *args)\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\roles.py\", line 83, in list_roles\n    |     roles = db.execute(select(Role).order_by(Role.name)).scalars().all()\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 1769, in all\n    |     return self._allrows()\n    |            ~~~~~~~~~~~~~^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 565, in _allrows\n    |     strategy(made_row) if strategy else made_row,\n    |     ~~~~~~~~^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\orm\\loading.py\", line 285, in require_unique\n    |     raise sa_exc.InvalidRequestError(\n    |     ...<3 lines>...\n    |     )\n    | sqlalchemy.exc.InvalidRequestError: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    with collapse_excgroups():\n         ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    result = context.run(func, *args)\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\roles.py\", line 83, in list_roles\n    roles = db.execute(select(Role).order_by(Role.name)).scalars().all()\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 1769, in all\n    return self._allrows()\n           ~~~~~~~~~~~~~^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 565, in _allrows\n    strategy(made_row) if strategy else made_row,\n    ~~~~~~~~^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\orm\\loading.py\", line 285, in require_unique\n    raise sa_exc.InvalidRequestError(\n    ...<3 lines>...\n    )\nsqlalchemy.exc.InvalidRequestError: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n", "module": "main", "function": "global_exception_handler", "line": 25, "correlation_id": "10f157c2", "exception": {"type": "InvalidRequestError", "message": "The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections"}}
{"timestamp": "2026-02-17T15:26:01.976751+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/users [cid=cce45965]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "cce45965"}
{"timestamp": "2026-02-17T15:26:01.978914+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles [cid=108175a0]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "108175a0"}
{"timestamp": "2026-02-17T15:26:01.997706+00:00", "level": "CRITICAL", "logger": "app.main", "message": "UNHANDLED EXCEPTION on GET /api/roles [cid=108175a0]: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n  + Exception Group Traceback (most recent call last):\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 186, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    |     with collapse_excgroups():\n    |          ~~~~~~~~~~~~~~~~~~^^\n    |   File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    |     raise app_exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    |     return await run_in_threadpool(dependant.call, **values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    |     return await anyio.to_thread.run_sync(func, *args)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    |     return await get_async_backend().run_sync_in_worker_thread(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    |     return await future\n    |            ^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    |     result = context.run(func, *args)\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\roles.py\", line 83, in list_roles\n    |     roles = db.execute(select(Role).order_by(Role.name)).scalars().all()\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 1769, in all\n    |     return self._allrows()\n    |            ~~~~~~~~~~~~~^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 565, in _allrows\n    |     strategy(made_row) if strategy else made_row,\n    |     ~~~~~~~~^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\orm\\loading.py\", line 285, in require_unique\n    |     raise sa_exc.InvalidRequestError(\n    |     ...<3 lines>...\n    |     )\n    | sqlalchemy.exc.InvalidRequestError: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    with collapse_excgroups():\n         ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    result = context.run(func, *args)\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\roles.py\", line 83, in list_roles\n    roles = db.execute(select(Role).order_by(Role.name)).scalars().all()\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 1769, in all\n    return self._allrows()\n           ~~~~~~~~~~~~~^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 565, in _allrows\n    strategy(made_row) if strategy else made_row,\n    ~~~~~~~~^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\orm\\loading.py\", line 285, in require_unique\n    raise sa_exc.InvalidRequestError(\n    ...<3 lines>...\n    )\nsqlalchemy.exc.InvalidRequestError: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n", "module": "main", "function": "global_exception_handler", "line": 25, "correlation_id": "108175a0", "exception": {"type": "InvalidRequestError", "message": "The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections"}}
{"timestamp": "2026-02-17T15:26:02.010002+00:00", "level": "CRITICAL", "logger": "app.main", "message": "UNHANDLED EXCEPTION on GET /api/users [cid=cce45965]: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n  + Exception Group Traceback (most recent call last):\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 186, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    |     with collapse_excgroups():\n    |          ~~~~~~~~~~~~~~~~~~^^\n    |   File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    |     raise app_exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    |     return await run_in_threadpool(dependant.call, **values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    |     return await anyio.to_thread.run_sync(func, *args)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    |     return await get_async_backend().run_sync_in_worker_thread(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    |     return await future\n    |            ^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    |     result = context.run(func, *args)\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\users.py\", line 100, in list_users\n    |     users = db.execute(select(User).order_by(User.username)).scalars().all()\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 1769, in all\n    |     return self._allrows()\n    |            ~~~~~~~~~~~~~^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 565, in _allrows\n    |     strategy(made_row) if strategy else made_row,\n    |     ~~~~~~~~^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\orm\\loading.py\", line 285, in require_unique\n    |     raise sa_exc.InvalidRequestError(\n    |     ...<3 lines>...\n    |     )\n    | sqlalchemy.exc.InvalidRequestError: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    with collapse_excgroups():\n         ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    result = context.run(func, *args)\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\users.py\", line 100, in list_users\n    users = db.execute(select(User).order_by(User.username)).scalars().all()\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 1769, in all\n    return self._allrows()\n           ~~~~~~~~~~~~~^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 565, in _allrows\n    strategy(made_row) if strategy else made_row,\n    ~~~~~~~~^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\orm\\loading.py\", line 285, in require_unique\n    raise sa_exc.InvalidRequestError(\n    ...<3 lines>...\n    )\nsqlalchemy.exc.InvalidRequestError: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n", "module": "main", "function": "global_exception_handler", "line": 25, "correlation_id": "cce45965", "exception": {"type": "InvalidRequestError", "message": "The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections"}}
{"timestamp": "2026-02-17T15:26:03.008563+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles [cid=95384219]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "95384219"}
{"timestamp": "2026-02-17T15:26:03.018276+00:00", "level": "CRITICAL", "logger": "app.main", "message": "UNHANDLED EXCEPTION on GET /api/roles [cid=95384219]: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n  + Exception Group Traceback (most recent call last):\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 186, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    |     with collapse_excgroups():\n    |          ~~~~~~~~~~~~~~~~~~^^\n    |   File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    |     raise app_exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    |     return await run_in_threadpool(dependant.call, **values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    |     return await anyio.to_thread.run_sync(func, *args)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    |     return await get_async_backend().run_sync_in_worker_thread(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    |     return await future\n    |            ^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    |     result = context.run(func, *args)\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\roles.py\", line 83, in list_roles\n    |     roles = db.execute(select(Role).order_by(Role.name)).scalars().all()\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 1769, in all\n    |     return self._allrows()\n    |            ~~~~~~~~~~~~~^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 565, in _allrows\n    |     strategy(made_row) if strategy else made_row,\n    |     ~~~~~~~~^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\orm\\loading.py\", line 285, in require_unique\n    |     raise sa_exc.InvalidRequestError(\n    |     ...<3 lines>...\n    |     )\n    | sqlalchemy.exc.InvalidRequestError: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    with collapse_excgroups():\n         ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    result = context.run(func, *args)\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\roles.py\", line 83, in list_roles\n    roles = db.execute(select(Role).order_by(Role.name)).scalars().all()\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 1769, in all\n    return self._allrows()\n           ~~~~~~~~~~~~~^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 565, in _allrows\n    strategy(made_row) if strategy else made_row,\n    ~~~~~~~~^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\orm\\loading.py\", line 285, in require_unique\n    raise sa_exc.InvalidRequestError(\n    ...<3 lines>...\n    )\nsqlalchemy.exc.InvalidRequestError: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n", "module": "main", "function": "global_exception_handler", "line": 25, "correlation_id": "95384219", "exception": {"type": "InvalidRequestError", "message": "The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections"}}
{"timestamp": "2026-02-17T15:26:03.028669+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/users [cid=7ce48d83]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "7ce48d83"}
{"timestamp": "2026-02-17T15:26:03.041546+00:00", "level": "CRITICAL", "logger": "app.main", "message": "UNHANDLED EXCEPTION on GET /api/users [cid=7ce48d83]: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n  + Exception Group Traceback (most recent call last):\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 186, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    |     with collapse_excgroups():\n    |          ~~~~~~~~~~~~~~~~~~^^\n    |   File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    |     raise app_exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    |     return await run_in_threadpool(dependant.call, **values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    |     return await anyio.to_thread.run_sync(func, *args)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    |     return await get_async_backend().run_sync_in_worker_thread(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    |     return await future\n    |            ^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    |     result = context.run(func, *args)\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\users.py\", line 100, in list_users\n    |     users = db.execute(select(User).order_by(User.username)).scalars().all()\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 1769, in all\n    |     return self._allrows()\n    |            ~~~~~~~~~~~~~^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 565, in _allrows\n    |     strategy(made_row) if strategy else made_row,\n    |     ~~~~~~~~^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\orm\\loading.py\", line 285, in require_unique\n    |     raise sa_exc.InvalidRequestError(\n    |     ...<3 lines>...\n    |     )\n    | sqlalchemy.exc.InvalidRequestError: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    with collapse_excgroups():\n         ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    result = context.run(func, *args)\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\users.py\", line 100, in list_users\n    users = db.execute(select(User).order_by(User.username)).scalars().all()\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 1769, in all\n    return self._allrows()\n           ~~~~~~~~~~~~~^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 565, in _allrows\n    strategy(made_row) if strategy else made_row,\n    ~~~~~~~~^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\orm\\loading.py\", line 285, in require_unique\n    raise sa_exc.InvalidRequestError(\n    ...<3 lines>...\n    )\nsqlalchemy.exc.InvalidRequestError: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n", "module": "main", "function": "global_exception_handler", "line": 25, "correlation_id": "7ce48d83", "exception": {"type": "InvalidRequestError", "message": "The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections"}}
{"timestamp": "2026-02-17T15:26:20.496880+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/audit [cid=11f68f23]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "11f68f23"}
{"timestamp": "2026-02-17T15:26:43.746226+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/warehouses [cid=5e35e5fd]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "5e35e5fd"}
{"timestamp": "2026-02-17T15:26:45.555368+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/users [cid=5e7c9e1d]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "5e7c9e1d"}
{"timestamp": "2026-02-17T15:26:45.556217+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles [cid=458e3a24]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "458e3a24"}
{"timestamp": "2026-02-17T15:26:45.576646+00:00", "level": "CRITICAL", "logger": "app.main", "message": "UNHANDLED EXCEPTION on GET /api/roles [cid=458e3a24]: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n  + Exception Group Traceback (most recent call last):\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 186, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    |     with collapse_excgroups():\n    |          ~~~~~~~~~~~~~~~~~~^^\n    |   File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    |     raise app_exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    |     return await run_in_threadpool(dependant.call, **values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    |     return await anyio.to_thread.run_sync(func, *args)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    |     return await get_async_backend().run_sync_in_worker_thread(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    |     return await future\n    |            ^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    |     result = context.run(func, *args)\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\roles.py\", line 83, in list_roles\n    |     roles = db.execute(select(Role).order_by(Role.name)).scalars().all()\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 1769, in all\n    |     return self._allrows()\n    |            ~~~~~~~~~~~~~^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 565, in _allrows\n    |     strategy(made_row) if strategy else made_row,\n    |     ~~~~~~~~^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\orm\\loading.py\", line 285, in require_unique\n    |     raise sa_exc.InvalidRequestError(\n    |     ...<3 lines>...\n    |     )\n    | sqlalchemy.exc.InvalidRequestError: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    with collapse_excgroups():\n         ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    result = context.run(func, *args)\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\roles.py\", line 83, in list_roles\n    roles = db.execute(select(Role).order_by(Role.name)).scalars().all()\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 1769, in all\n    return self._allrows()\n           ~~~~~~~~~~~~~^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 565, in _allrows\n    strategy(made_row) if strategy else made_row,\n    ~~~~~~~~^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\orm\\loading.py\", line 285, in require_unique\n    raise sa_exc.InvalidRequestError(\n    ...<3 lines>...\n    )\nsqlalchemy.exc.InvalidRequestError: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n", "module": "main", "function": "global_exception_handler", "line": 25, "correlation_id": "458e3a24", "exception": {"type": "InvalidRequestError", "message": "The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections"}}
{"timestamp": "2026-02-17T15:26:45.591909+00:00", "level": "CRITICAL", "logger": "app.main", "message": "UNHANDLED EXCEPTION on GET /api/users [cid=5e7c9e1d]: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n  + Exception Group Traceback (most recent call last):\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 186, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    |     with collapse_excgroups():\n    |          ~~~~~~~~~~~~~~~~~~^^\n    |   File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    |     raise app_exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    |     return await run_in_threadpool(dependant.call, **values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    |     return await anyio.to_thread.run_sync(func, *args)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    |     return await get_async_backend().run_sync_in_worker_thread(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    |     return await future\n    |            ^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    |     result = context.run(func, *args)\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\users.py\", line 100, in list_users\n    |     users = db.execute(select(User).order_by(User.username)).scalars().all()\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 1769, in all\n    |     return self._allrows()\n    |            ~~~~~~~~~~~~~^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 565, in _allrows\n    |     strategy(made_row) if strategy else made_row,\n    |     ~~~~~~~~^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\orm\\loading.py\", line 285, in require_unique\n    |     raise sa_exc.InvalidRequestError(\n    |     ...<3 lines>...\n    |     )\n    | sqlalchemy.exc.InvalidRequestError: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    with collapse_excgroups():\n         ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    result = context.run(func, *args)\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\users.py\", line 100, in list_users\n    users = db.execute(select(User).order_by(User.username)).scalars().all()\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 1769, in all\n    return self._allrows()\n           ~~~~~~~~~~~~~^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 565, in _allrows\n    strategy(made_row) if strategy else made_row,\n    ~~~~~~~~^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\orm\\loading.py\", line 285, in require_unique\n    raise sa_exc.InvalidRequestError(\n    ...<3 lines>...\n    )\nsqlalchemy.exc.InvalidRequestError: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n", "module": "main", "function": "global_exception_handler", "line": 25, "correlation_id": "5e7c9e1d", "exception": {"type": "InvalidRequestError", "message": "The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections"}}
{"timestamp": "2026-02-17T15:26:46.595204+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles [cid=321c1101]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "321c1101"}
{"timestamp": "2026-02-17T15:26:46.603392+00:00", "level": "CRITICAL", "logger": "app.main", "message": "UNHANDLED EXCEPTION on GET /api/roles [cid=321c1101]: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n  + Exception Group Traceback (most recent call last):\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 186, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    |     with collapse_excgroups():\n    |          ~~~~~~~~~~~~~~~~~~^^\n    |   File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    |     raise app_exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    |     return await run_in_threadpool(dependant.call, **values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    |     return await anyio.to_thread.run_sync(func, *args)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    |     return await get_async_backend().run_sync_in_worker_thread(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    |     return await future\n    |            ^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    |     result = context.run(func, *args)\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\roles.py\", line 83, in list_roles\n    |     roles = db.execute(select(Role).order_by(Role.name)).scalars().all()\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 1769, in all\n    |     return self._allrows()\n    |            ~~~~~~~~~~~~~^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 565, in _allrows\n    |     strategy(made_row) if strategy else made_row,\n    |     ~~~~~~~~^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\orm\\loading.py\", line 285, in require_unique\n    |     raise sa_exc.InvalidRequestError(\n    |     ...<3 lines>...\n    |     )\n    | sqlalchemy.exc.InvalidRequestError: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    with collapse_excgroups():\n         ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    result = context.run(func, *args)\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\roles.py\", line 83, in list_roles\n    roles = db.execute(select(Role).order_by(Role.name)).scalars().all()\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 1769, in all\n    return self._allrows()\n           ~~~~~~~~~~~~~^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 565, in _allrows\n    strategy(made_row) if strategy else made_row,\n    ~~~~~~~~^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\orm\\loading.py\", line 285, in require_unique\n    raise sa_exc.InvalidRequestError(\n    ...<3 lines>...\n    )\nsqlalchemy.exc.InvalidRequestError: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n", "module": "main", "function": "global_exception_handler", "line": 25, "correlation_id": "321c1101", "exception": {"type": "InvalidRequestError", "message": "The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections"}}
{"timestamp": "2026-02-17T15:26:46.611456+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/users [cid=d21dc372]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "d21dc372"}
{"timestamp": "2026-02-17T15:26:46.621518+00:00", "level": "CRITICAL", "logger": "app.main", "message": "UNHANDLED EXCEPTION on GET /api/users [cid=d21dc372]: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n  + Exception Group Traceback (most recent call last):\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 186, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    |     with collapse_excgroups():\n    |          ~~~~~~~~~~~~~~~~~~^^\n    |   File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    |     raise app_exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    |     return await run_in_threadpool(dependant.call, **values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    |     return await anyio.to_thread.run_sync(func, *args)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    |     return await get_async_backend().run_sync_in_worker_thread(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    |     return await future\n    |            ^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    |     result = context.run(func, *args)\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\users.py\", line 100, in list_users\n    |     users = db.execute(select(User).order_by(User.username)).scalars().all()\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 1769, in all\n    |     return self._allrows()\n    |            ~~~~~~~~~~~~~^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 565, in _allrows\n    |     strategy(made_row) if strategy else made_row,\n    |     ~~~~~~~~^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\orm\\loading.py\", line 285, in require_unique\n    |     raise sa_exc.InvalidRequestError(\n    |     ...<3 lines>...\n    |     )\n    | sqlalchemy.exc.InvalidRequestError: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    with collapse_excgroups():\n         ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    result = context.run(func, *args)\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\users.py\", line 100, in list_users\n    users = db.execute(select(User).order_by(User.username)).scalars().all()\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 1769, in all\n    return self._allrows()\n           ~~~~~~~~~~~~~^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 565, in _allrows\n    strategy(made_row) if strategy else made_row,\n    ~~~~~~~~^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\orm\\loading.py\", line 285, in require_unique\n    raise sa_exc.InvalidRequestError(\n    ...<3 lines>...\n    )\nsqlalchemy.exc.InvalidRequestError: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n", "module": "main", "function": "global_exception_handler", "line": 25, "correlation_id": "d21dc372", "exception": {"type": "InvalidRequestError", "message": "The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections"}}
{"timestamp": "2026-02-17T15:26:48.055348+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles [cid=bef977e3]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "bef977e3"}
{"timestamp": "2026-02-17T15:26:48.065411+00:00", "level": "CRITICAL", "logger": "app.main", "message": "UNHANDLED EXCEPTION on GET /api/roles [cid=bef977e3]: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n  + Exception Group Traceback (most recent call last):\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 186, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    |     with collapse_excgroups():\n    |          ~~~~~~~~~~~~~~~~~~^^\n    |   File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    |     raise app_exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    |     return await run_in_threadpool(dependant.call, **values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    |     return await anyio.to_thread.run_sync(func, *args)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    |     return await get_async_backend().run_sync_in_worker_thread(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    |     return await future\n    |            ^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    |     result = context.run(func, *args)\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\roles.py\", line 83, in list_roles\n    |     roles = db.execute(select(Role).order_by(Role.name)).scalars().all()\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 1769, in all\n    |     return self._allrows()\n    |            ~~~~~~~~~~~~~^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 565, in _allrows\n    |     strategy(made_row) if strategy else made_row,\n    |     ~~~~~~~~^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\orm\\loading.py\", line 285, in require_unique\n    |     raise sa_exc.InvalidRequestError(\n    |     ...<3 lines>...\n    |     )\n    | sqlalchemy.exc.InvalidRequestError: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    with collapse_excgroups():\n         ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    result = context.run(func, *args)\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\roles.py\", line 83, in list_roles\n    roles = db.execute(select(Role).order_by(Role.name)).scalars().all()\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 1769, in all\n    return self._allrows()\n           ~~~~~~~~~~~~~^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 565, in _allrows\n    strategy(made_row) if strategy else made_row,\n    ~~~~~~~~^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\orm\\loading.py\", line 285, in require_unique\n    raise sa_exc.InvalidRequestError(\n    ...<3 lines>...\n    )\nsqlalchemy.exc.InvalidRequestError: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n", "module": "main", "function": "global_exception_handler", "line": 25, "correlation_id": "bef977e3", "exception": {"type": "InvalidRequestError", "message": "The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections"}}
{"timestamp": "2026-02-17T15:26:49.080435+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles [cid=8f024c69]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "8f024c69"}
{"timestamp": "2026-02-17T15:26:49.090664+00:00", "level": "CRITICAL", "logger": "app.main", "message": "UNHANDLED EXCEPTION on GET /api/roles [cid=8f024c69]: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n  + Exception Group Traceback (most recent call last):\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 186, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    |     with collapse_excgroups():\n    |          ~~~~~~~~~~~~~~~~~~^^\n    |   File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    |     raise app_exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    |     return await run_in_threadpool(dependant.call, **values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    |     return await anyio.to_thread.run_sync(func, *args)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    |     return await get_async_backend().run_sync_in_worker_thread(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    |     return await future\n    |            ^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    |     result = context.run(func, *args)\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\roles.py\", line 83, in list_roles\n    |     roles = db.execute(select(Role).order_by(Role.name)).scalars().all()\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 1769, in all\n    |     return self._allrows()\n    |            ~~~~~~~~~~~~~^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 565, in _allrows\n    |     strategy(made_row) if strategy else made_row,\n    |     ~~~~~~~~^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\orm\\loading.py\", line 285, in require_unique\n    |     raise sa_exc.InvalidRequestError(\n    |     ...<3 lines>...\n    |     )\n    | sqlalchemy.exc.InvalidRequestError: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    with collapse_excgroups():\n         ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    result = context.run(func, *args)\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\roles.py\", line 83, in list_roles\n    roles = db.execute(select(Role).order_by(Role.name)).scalars().all()\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 1769, in all\n    return self._allrows()\n           ~~~~~~~~~~~~~^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 565, in _allrows\n    strategy(made_row) if strategy else made_row,\n    ~~~~~~~~^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\orm\\loading.py\", line 285, in require_unique\n    raise sa_exc.InvalidRequestError(\n    ...<3 lines>...\n    )\nsqlalchemy.exc.InvalidRequestError: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n", "module": "main", "function": "global_exception_handler", "line": 25, "correlation_id": "8f024c69", "exception": {"type": "InvalidRequestError", "message": "The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections"}}
{"timestamp": "2026-02-17T15:30:44.126698+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/auth/me [cid=6d2c480e]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "6d2c480e"}
{"timestamp": "2026-02-17T15:30:44.150534+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/auth/me [cid=825a676c]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "825a676c"}
{"timestamp": "2026-02-17T15:30:44.166914+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles [cid=d5f531e1]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "d5f531e1"}
{"timestamp": "2026-02-17T15:30:44.167645+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles/permissions/all [cid=4da9dc46]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "4da9dc46"}
{"timestamp": "2026-02-17T15:30:44.199281+00:00", "level": "CRITICAL", "logger": "app.main", "message": "UNHANDLED EXCEPTION on GET /api/roles [cid=d5f531e1]: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n  + Exception Group Traceback (most recent call last):\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 186, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    |     with collapse_excgroups():\n    |          ~~~~~~~~~~~~~~~~~~^^\n    |   File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    |     raise app_exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    |     return await run_in_threadpool(dependant.call, **values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    |     return await anyio.to_thread.run_sync(func, *args)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    |     return await get_async_backend().run_sync_in_worker_thread(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    |     return await future\n    |            ^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    |     result = context.run(func, *args)\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\roles.py\", line 83, in list_roles\n    |     roles = db.execute(select(Role).order_by(Role.name)).unique().scalars().all()\n    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 1769, in all\n    |     return self._allrows()\n    |            ~~~~~~~~~~~~~^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 565, in _allrows\n    |     strategy(made_row) if strategy else made_row,\n    |     ~~~~~~~~^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\orm\\loading.py\", line 285, in require_unique\n    |     raise sa_exc.InvalidRequestError(\n    |     ...<3 lines>...\n    |     )\n    | sqlalchemy.exc.InvalidRequestError: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    with collapse_excgroups():\n         ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    result = context.run(func, *args)\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\roles.py\", line 83, in list_roles\n    roles = db.execute(select(Role).order_by(Role.name)).unique().scalars().all()\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 1769, in all\n    return self._allrows()\n           ~~~~~~~~~~~~~^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 565, in _allrows\n    strategy(made_row) if strategy else made_row,\n    ~~~~~~~~^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\orm\\loading.py\", line 285, in require_unique\n    raise sa_exc.InvalidRequestError(\n    ...<3 lines>...\n    )\nsqlalchemy.exc.InvalidRequestError: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n", "module": "main", "function": "global_exception_handler", "line": 25, "correlation_id": "d5f531e1", "exception": {"type": "InvalidRequestError", "message": "The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections"}}
{"timestamp": "2026-02-17T15:30:52.559751+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/users [cid=8589daa2]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "8589daa2"}
{"timestamp": "2026-02-17T15:30:52.560186+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles [cid=01c3580f]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "01c3580f"}
{"timestamp": "2026-02-17T15:30:52.560400+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/warehouses [cid=5ec1a826]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "5ec1a826"}
{"timestamp": "2026-02-17T15:30:52.615315+00:00", "level": "CRITICAL", "logger": "app.main", "message": "UNHANDLED EXCEPTION on GET /api/roles [cid=01c3580f]: 1 validation error for RoleOut\nis_system\n  Input should be a valid boolean [type=bool_type, input_value=None, input_type=NoneType]\n    For further information visit https://errors.pydantic.dev/2.10/v/bool_type\n  + Exception Group Traceback (most recent call last):\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 186, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    |     with collapse_excgroups():\n    |          ~~~~~~~~~~~~~~~~~~^^\n    |   File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    |     raise app_exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    |     return await run_in_threadpool(dependant.call, **values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    |     return await anyio.to_thread.run_sync(func, *args)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    |     return await get_async_backend().run_sync_in_worker_thread(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    |     return await future\n    |            ^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    |     result = context.run(func, *args)\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\roles.py\", line 84, in list_roles\n    |     return [_role_to_out(r) for r in roles]\n    |             ~~~~~~~~~~~~^^^\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\roles.py\", line 63, in _role_to_out\n    |     return RoleOut(\n    |         id=role.id,\n    |     ...<3 lines>...\n    |         permissions=perms,\n    |     )\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\pydantic\\main.py\", line 214, in __init__\n    |     validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\n    | pydantic_core._pydantic_core.ValidationError: 1 validation error for RoleOut\n    | is_system\n    |   Input should be a valid boolean [type=bool_type, input_value=None, input_type=NoneType]\n    |     For further information visit https://errors.pydantic.dev/2.10/v/bool_type\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    with collapse_excgroups():\n         ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    result = context.run(func, *args)\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\roles.py\", line 84, in list_roles\n    return [_role_to_out(r) for r in roles]\n            ~~~~~~~~~~~~^^^\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\roles.py\", line 63, in _role_to_out\n    return RoleOut(\n        id=role.id,\n    ...<3 lines>...\n        permissions=perms,\n    )\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\pydantic\\main.py\", line 214, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\npydantic_core._pydantic_core.ValidationError: 1 validation error for RoleOut\nis_system\n  Input should be a valid boolean [type=bool_type, input_value=None, input_type=NoneType]\n    For further information visit https://errors.pydantic.dev/2.10/v/bool_type\n", "module": "main", "function": "global_exception_handler", "line": 25, "correlation_id": "01c3580f", "exception": {"type": "ValidationError", "message": "1 validation error for RoleOut\nis_system\n  Input should be a valid boolean [type=bool_type, input_value=None, input_type=NoneType]\n    For further information visit https://errors.pydantic.dev/2.10/v/bool_type"}}
{"timestamp": "2026-02-17T15:30:52.642075+00:00", "level": "CRITICAL", "logger": "app.main", "message": "UNHANDLED EXCEPTION on GET /api/users [cid=8589daa2]: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n  + Exception Group Traceback (most recent call last):\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 186, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    |     with collapse_excgroups():\n    |          ~~~~~~~~~~~~~~~~~~^^\n    |   File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    |     raise app_exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    |     return await run_in_threadpool(dependant.call, **values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    |     return await anyio.to_thread.run_sync(func, *args)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    |     return await get_async_backend().run_sync_in_worker_thread(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    |     return await future\n    |            ^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    |     result = context.run(func, *args)\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\users.py\", line 100, in list_users\n    |     users = db.execute(select(User).order_by(User.username)).scalars().all()\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 1769, in all\n    |     return self._allrows()\n    |            ~~~~~~~~~~~~~^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 565, in _allrows\n    |     strategy(made_row) if strategy else made_row,\n    |     ~~~~~~~~^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\orm\\loading.py\", line 285, in require_unique\n    |     raise sa_exc.InvalidRequestError(\n    |     ...<3 lines>...\n    |     )\n    | sqlalchemy.exc.InvalidRequestError: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    with collapse_excgroups():\n         ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    result = context.run(func, *args)\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\users.py\", line 100, in list_users\n    users = db.execute(select(User).order_by(User.username)).scalars().all()\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 1769, in all\n    return self._allrows()\n           ~~~~~~~~~~~~~^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 565, in _allrows\n    strategy(made_row) if strategy else made_row,\n    ~~~~~~~~^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\orm\\loading.py\", line 285, in require_unique\n    raise sa_exc.InvalidRequestError(\n    ...<3 lines>...\n    )\nsqlalchemy.exc.InvalidRequestError: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n", "module": "main", "function": "global_exception_handler", "line": 25, "correlation_id": "8589daa2", "exception": {"type": "InvalidRequestError", "message": "The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections"}}
{"timestamp": "2026-02-17T15:30:53.633754+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles [cid=2539714b]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "2539714b"}
{"timestamp": "2026-02-17T15:30:53.647760+00:00", "level": "CRITICAL", "logger": "app.main", "message": "UNHANDLED EXCEPTION on GET /api/roles [cid=2539714b]: 1 validation error for RoleOut\nis_system\n  Input should be a valid boolean [type=bool_type, input_value=None, input_type=NoneType]\n    For further information visit https://errors.pydantic.dev/2.10/v/bool_type\n  + Exception Group Traceback (most recent call last):\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 186, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    |     with collapse_excgroups():\n    |          ~~~~~~~~~~~~~~~~~~^^\n    |   File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    |     raise app_exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    |     return await run_in_threadpool(dependant.call, **values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    |     return await anyio.to_thread.run_sync(func, *args)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    |     return await get_async_backend().run_sync_in_worker_thread(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    |     return await future\n    |            ^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    |     result = context.run(func, *args)\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\roles.py\", line 84, in list_roles\n    |     return [_role_to_out(r) for r in roles]\n    |             ~~~~~~~~~~~~^^^\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\roles.py\", line 63, in _role_to_out\n    |     return RoleOut(\n    |         id=role.id,\n    |     ...<3 lines>...\n    |         permissions=perms,\n    |     )\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\pydantic\\main.py\", line 214, in __init__\n    |     validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\n    | pydantic_core._pydantic_core.ValidationError: 1 validation error for RoleOut\n    | is_system\n    |   Input should be a valid boolean [type=bool_type, input_value=None, input_type=NoneType]\n    |     For further information visit https://errors.pydantic.dev/2.10/v/bool_type\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    with collapse_excgroups():\n         ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    result = context.run(func, *args)\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\roles.py\", line 84, in list_roles\n    return [_role_to_out(r) for r in roles]\n            ~~~~~~~~~~~~^^^\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\roles.py\", line 63, in _role_to_out\n    return RoleOut(\n        id=role.id,\n    ...<3 lines>...\n        permissions=perms,\n    )\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\pydantic\\main.py\", line 214, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\npydantic_core._pydantic_core.ValidationError: 1 validation error for RoleOut\nis_system\n  Input should be a valid boolean [type=bool_type, input_value=None, input_type=NoneType]\n    For further information visit https://errors.pydantic.dev/2.10/v/bool_type\n", "module": "main", "function": "global_exception_handler", "line": 25, "correlation_id": "2539714b", "exception": {"type": "ValidationError", "message": "1 validation error for RoleOut\nis_system\n  Input should be a valid boolean [type=bool_type, input_value=None, input_type=NoneType]\n    For further information visit https://errors.pydantic.dev/2.10/v/bool_type"}}
{"timestamp": "2026-02-17T15:30:53.660169+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/users [cid=2ec4809b]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "2ec4809b"}
{"timestamp": "2026-02-17T15:30:53.675156+00:00", "level": "CRITICAL", "logger": "app.main", "message": "UNHANDLED EXCEPTION on GET /api/users [cid=2ec4809b]: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n  + Exception Group Traceback (most recent call last):\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 76, in collapse_excgroups\n  |     yield\n  |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 186, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    |     with collapse_excgroups():\n    |          ~~~~~~~~~~~~~~~~~~^^\n    |   File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    |     raise app_exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    |     return await run_in_threadpool(dependant.call, **values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    |     return await anyio.to_thread.run_sync(func, *args)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    |     return await get_async_backend().run_sync_in_worker_thread(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    |     return await future\n    |            ^^^^^^^^^^^^\n    |   File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    |     result = context.run(func, *args)\n    |   File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\users.py\", line 100, in list_users\n    |     users = db.execute(select(User).order_by(User.username)).scalars().all()\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 1769, in all\n    |     return self._allrows()\n    |            ~~~~~~~~~~~~~^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 565, in _allrows\n    |     strategy(made_row) if strategy else made_row,\n    |     ~~~~~~~~^^^^^^^^^^\n    |   File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\orm\\loading.py\", line 285, in require_unique\n    |     raise sa_exc.InvalidRequestError(\n    |     ...<3 lines>...\n    |     )\n    | sqlalchemy.exc.InvalidRequestError: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 185, in __call__\n    with collapse_excgroups():\n         ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_utils.py\", line 82, in collapse_excgroups\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 187, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\main.py\", line 47, in log_requests\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 163, in call_next\n    raise app_exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\base.py\", line 149, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\fastapi\\routing.py\", line 214, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\starlette\\concurrency.py\", line 39, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Python313\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    result = context.run(func, *args)\n  File \"C:\\VS\\FT-Logistika\\backend\\app\\api\\users.py\", line 100, in list_users\n    users = db.execute(select(User).order_by(User.username)).scalars().all()\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 1769, in all\n    return self._allrows()\n           ~~~~~~~~~~~~~^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\engine\\result.py\", line 565, in _allrows\n    strategy(made_row) if strategy else made_row,\n    ~~~~~~~~^^^^^^^^^^\n  File \"C:\\Users\\mladen.lackovic\\AppData\\Roaming\\Python\\Python313\\site-packages\\sqlalchemy\\orm\\loading.py\", line 285, in require_unique\n    raise sa_exc.InvalidRequestError(\n    ...<3 lines>...\n    )\nsqlalchemy.exc.InvalidRequestError: The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections\n", "module": "main", "function": "global_exception_handler", "line": 25, "correlation_id": "2ec4809b", "exception": {"type": "InvalidRequestError", "message": "The unique() method must be invoked on this Result, as it contains results that include joined eager loads against collections"}}
{"timestamp": "2026-02-17T15:31:01.528910+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/audit [cid=ec11c124]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "ec11c124"}
{"timestamp": "2026-02-17T15:38:10.499899+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/audit [cid=065482cc]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "065482cc"}
{"timestamp": "2026-02-17T15:38:10.503363+00:00", "level": "WARNING", "logger": "app.main", "message": "GET /api/audit -> 401 (3ms) [cid=065482cc]", "module": "main", "function": "log_requests", "line": 51, "correlation_id": "065482cc"}
{"timestamp": "2026-02-17T15:38:11.983826+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/auth/me [cid=7567d9c1]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "7567d9c1"}
{"timestamp": "2026-02-17T15:38:11.986616+00:00", "level": "WARNING", "logger": "app.main", "message": "GET /api/auth/me -> 401 (3ms) [cid=7567d9c1]", "module": "main", "function": "log_requests", "line": 51, "correlation_id": "7567d9c1"}
{"timestamp": "2026-02-17T15:38:11.995622+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/auth/me [cid=669ee3c3]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "669ee3c3"}
{"timestamp": "2026-02-17T15:38:11.997792+00:00", "level": "WARNING", "logger": "app.main", "message": "GET /api/auth/me -> 401 (2ms) [cid=669ee3c3]", "module": "main", "function": "log_requests", "line": 51, "correlation_id": "669ee3c3"}
{"timestamp": "2026-02-17T15:38:15.345761+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/auth/me [cid=79462020]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "79462020"}
{"timestamp": "2026-02-17T15:38:15.346782+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/auth/me [cid=8cdf3df9]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "8cdf3df9"}
{"timestamp": "2026-02-17T15:38:15.367062+00:00", "level": "WARNING", "logger": "app.main", "message": "GET /api/auth/me -> 401 (21ms) [cid=79462020]", "module": "main", "function": "log_requests", "line": 51, "correlation_id": "79462020"}
{"timestamp": "2026-02-17T15:38:15.367667+00:00", "level": "WARNING", "logger": "app.main", "message": "GET /api/auth/me -> 401 (21ms) [cid=8cdf3df9]", "module": "main", "function": "log_requests", "line": 51, "correlation_id": "8cdf3df9"}
{"timestamp": "2026-02-17T15:38:25.873984+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/auth/login [cid=ee88fa2e]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "ee88fa2e"}
{"timestamp": "2026-02-17T15:38:26.156653+00:00", "level": "INFO", "logger": "app.api.auth", "message": "Login: user=admin ip=127.0.0.1", "module": "auth", "function": "login", "line": 177, "correlation_id": "ee88fa2e"}
{"timestamp": "2026-02-17T15:38:26.213024+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders [cid=0591e4db]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "0591e4db"}
{"timestamp": "2026-02-17T15:38:26.215045+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/vehicles [cid=00fac716]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "00fac716"}
{"timestamp": "2026-02-17T15:38:26.215441+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routes [cid=53675108]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "53675108"}
{"timestamp": "2026-02-17T15:38:29.242349+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/audit [cid=56b921d0]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "56b921d0"}
{"timestamp": "2026-02-17T15:38:36.491072+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/users [cid=2e069fae]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "2e069fae"}
{"timestamp": "2026-02-17T15:38:36.494109+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles [cid=6a1c7e83]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "6a1c7e83"}
{"timestamp": "2026-02-17T15:38:36.494582+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/warehouses [cid=de4debaf]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "de4debaf"}
{"timestamp": "2026-02-17T15:38:51.096591+00:00", "level": "INFO", "logger": "app.main", "message": "PUT /api/users/2 [cid=46f610ab]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "46f610ab"}
{"timestamp": "2026-02-17T15:38:51.149927+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/users [cid=db42a0ba]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "db42a0ba"}
{"timestamp": "2026-02-17T15:39:03.520215+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/auth/me [cid=44fb9157]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "44fb9157"}
{"timestamp": "2026-02-17T15:39:03.536518+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/auth/me [cid=5acd87ab]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "5acd87ab"}
{"timestamp": "2026-02-17T15:39:03.553745+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/users [cid=456cbee3]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "456cbee3"}
{"timestamp": "2026-02-17T15:39:03.554453+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles [cid=5877c87c]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "5877c87c"}
{"timestamp": "2026-02-17T15:39:03.555074+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/warehouses [cid=f611ea52]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "f611ea52"}
{"timestamp": "2026-02-17T15:39:19.747884+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/audit [cid=5675d9df]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "5675d9df"}
{"timestamp": "2026-02-17T15:39:32.299871+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles/permissions/all [cid=21aa272c]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "21aa272c"}
{"timestamp": "2026-02-17T15:39:42.156436+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/settings [cid=a5e3fa73]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "a5e3fa73"}
{"timestamp": "2026-02-17T15:39:42.157010+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/prioriteti [cid=39d342bb]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "39d342bb"}
{"timestamp": "2026-02-17T15:39:42.157180+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/statusi [cid=e4bdb748]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "e4bdb748"}
{"timestamp": "2026-02-17T15:39:48.334036+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/regions/tree [cid=b5a24569]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "b5a24569"}
{"timestamp": "2026-02-17T15:39:48.334516+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/regions [cid=9ccedcea]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "9ccedcea"}
{"timestamp": "2026-02-17T15:39:48.334656+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/postal-codes [cid=fb6c7acb]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "fb6c7acb"}
{"timestamp": "2026-02-17T15:39:50.565062+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/drivers [cid=38992a82]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "38992a82"}
{"timestamp": "2026-02-17T15:39:50.565510+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/vehicles [cid=cdc5e9fe]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "cdc5e9fe"}
{"timestamp": "2026-02-17T15:39:50.565829+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/vehicle-types [cid=dc29e7c4]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "dc29e7c4"}
{"timestamp": "2026-02-17T15:39:51.426233+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/grupe-artikala [cid=cfbd814a]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "cfbd814a"}
{"timestamp": "2026-02-17T15:39:52.094948+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/artikli [cid=9af012a0]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "9af012a0"}
{"timestamp": "2026-02-17T15:39:52.095824+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/kriterije-sku [cid=2ab28d25]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "2ab28d25"}
{"timestamp": "2026-02-17T15:39:52.097101+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/artikli-kriterija [cid=053814f3]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "053814f3"}
{"timestamp": "2026-02-17T15:39:56.149910+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders [cid=028068eb]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "028068eb"}
{"timestamp": "2026-02-17T15:39:56.150478+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routing/rutiranje-uids [cid=1aafb947]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "1aafb947"}
{"timestamp": "2026-02-17T15:39:56.151241+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders/with-criteria [cid=681880b0]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "681880b0"}
{"timestamp": "2026-02-17T15:39:56.151730+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/artikli-kriterija/artikl-sifre [cid=aaf500d2]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "aaf500d2"}
{"timestamp": "2026-02-17T15:39:56.400812+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/mantis/orders/bulk [cid=9fbfceb4]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "9fbfceb4"}
{"timestamp": "2026-02-17T15:39:56.425626+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "Bulk lazy sync za 55 naloga bez/sa starim cache-om", "module": "mantis_service", "function": "get_sscc_summary_for_orders", "line": 279, "correlation_id": "9fbfceb4"}
{"timestamp": "2026-02-17T15:39:56.446571+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync: 55 naloga, OrderCodes: ['4573-30', '4579-30', '2156-07', '4581-30', '5218-10', '8207-05', '1392-32', '5929-20', '8227-05', '7149-16']", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 112, "correlation_id": "9fbfceb4"}
{"timestamp": "2026-02-17T15:39:56.498326+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS vratio 40 redaka za 55 naloga", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 140, "correlation_id": "9fbfceb4"}
{"timestamp": "2026-02-17T15:39:56.605027+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync zavrÅ¡en: {'synced_orders': 55, 'total_items': 40, 'total_pallets': 17}", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 193, "correlation_id": "9fbfceb4"}
{"timestamp": "2026-02-17T15:39:59.128163+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routes [cid=2b9b3400]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "2b9b3400"}
{"timestamp": "2026-02-17T15:40:01.107656+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routing/rutiranje-nalozi [cid=030a0ae6]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "030a0ae6"}
{"timestamp": "2026-02-17T15:40:01.108676+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/provider [cid=c1f3c7cd]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "c1f3c7cd"}
{"timestamp": "2026-02-17T15:40:01.162539+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/mantis/orders/bulk [cid=d5578119]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "d5578119"}
{"timestamp": "2026-02-17T15:40:01.173186+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "Bulk lazy sync za 7 naloga bez/sa starim cache-om", "module": "mantis_service", "function": "get_sscc_summary_for_orders", "line": 279, "correlation_id": "d5578119"}
{"timestamp": "2026-02-17T15:40:01.180624+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync: 7 naloga, OrderCodes: ['6805-16', '6557-16', '6624-16', '6758-16', '4372-30', '4154-100', '4163-100']", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 112, "correlation_id": "d5578119"}
{"timestamp": "2026-02-17T15:40:01.193301+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS vratio 0 redaka za 7 naloga", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 140, "correlation_id": "d5578119"}
{"timestamp": "2026-02-17T15:40:01.196920+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync zavrÅ¡en: {'synced_orders': 7, 'total_items': 0, 'total_pallets': 0}", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 193, "correlation_id": "d5578119"}
{"timestamp": "2026-02-17T15:40:02.420014+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders [cid=111767e7]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "111767e7"}
{"timestamp": "2026-02-17T15:40:02.422586+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routes [cid=e8947c7e]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "e8947c7e"}
{"timestamp": "2026-02-17T15:40:16.131836+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/warehouses [cid=1a21ccec]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "1a21ccec"}
{"timestamp": "2026-02-17T18:12:32.973287+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/auth/me [cid=dcba0bc6]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "dcba0bc6"}
{"timestamp": "2026-02-17T18:12:32.977689+00:00", "level": "WARNING", "logger": "app.main", "message": "GET /api/auth/me -> 401 (5ms) [cid=dcba0bc6]", "module": "main", "function": "log_requests", "line": 51, "correlation_id": "dcba0bc6"}
{"timestamp": "2026-02-17T18:12:32.988010+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/auth/me [cid=7ad31a8a]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "7ad31a8a"}
{"timestamp": "2026-02-17T18:12:32.993534+00:00", "level": "WARNING", "logger": "app.main", "message": "GET /api/auth/me -> 401 (6ms) [cid=7ad31a8a]", "module": "main", "function": "log_requests", "line": 51, "correlation_id": "7ad31a8a"}
{"timestamp": "2026-02-17T18:12:53.399099+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/auth/me [cid=3652db00]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "3652db00"}
{"timestamp": "2026-02-17T18:12:53.401570+00:00", "level": "WARNING", "logger": "app.main", "message": "GET /api/auth/me -> 401 (2ms) [cid=3652db00]", "module": "main", "function": "log_requests", "line": 51, "correlation_id": "3652db00"}
{"timestamp": "2026-02-17T18:12:53.414046+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/auth/me [cid=f98909dc]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "f98909dc"}
{"timestamp": "2026-02-17T18:12:53.416114+00:00", "level": "WARNING", "logger": "app.main", "message": "GET /api/auth/me -> 401 (2ms) [cid=f98909dc]", "module": "main", "function": "log_requests", "line": 51, "correlation_id": "f98909dc"}
{"timestamp": "2026-02-17T18:13:13.146466+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/auth/login [cid=8b616ccd]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "8b616ccd"}
{"timestamp": "2026-02-17T18:13:13.625895+00:00", "level": "INFO", "logger": "app.api.auth", "message": "Login: user=admin ip=127.0.0.1", "module": "auth", "function": "login", "line": 177, "correlation_id": "8b616ccd"}
{"timestamp": "2026-02-17T18:13:13.773570+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders [cid=d53b280e]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "d53b280e"}
{"timestamp": "2026-02-17T18:13:13.775830+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/vehicles [cid=f7d23691]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "f7d23691"}
{"timestamp": "2026-02-17T18:13:13.777415+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routes [cid=91acefcf]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "91acefcf"}
{"timestamp": "2026-02-17T18:14:23.849252+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders [cid=b24b2f2f]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "b24b2f2f"}
{"timestamp": "2026-02-17T18:14:23.873542+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/vehicles [cid=bd536e41]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "bd536e41"}
{"timestamp": "2026-02-17T18:14:23.874679+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routes [cid=b9d2dde0]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "b9d2dde0"}
{"timestamp": "2026-02-17T18:14:26.461064+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/auth/me [cid=289fd1c5]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "289fd1c5"}
{"timestamp": "2026-02-17T18:14:26.479143+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/auth/me [cid=a6c2f8b5]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "a6c2f8b5"}
{"timestamp": "2026-02-17T18:14:26.499387+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders [cid=9a0d80f8]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "9a0d80f8"}
{"timestamp": "2026-02-17T18:14:26.500037+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routes [cid=6a7deaf1]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "6a7deaf1"}
{"timestamp": "2026-02-17T18:14:26.500194+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/vehicles [cid=6b30f037]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "6b30f037"}
{"timestamp": "2026-02-17T18:14:39.256778+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles [cid=5eced236]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "5eced236"}
{"timestamp": "2026-02-17T18:14:39.260041+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles/permissions/all [cid=a0b75c87]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "a0b75c87"}
{"timestamp": "2026-02-17T18:15:27.942552+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/users [cid=134f9291]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "134f9291"}
{"timestamp": "2026-02-17T18:15:27.947715+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/warehouses [cid=408787f1]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "408787f1"}
{"timestamp": "2026-02-17T18:15:42.920702+00:00", "level": "INFO", "logger": "app.main", "message": "PUT /api/users/2 [cid=f402e673]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "f402e673"}
{"timestamp": "2026-02-17T18:15:43.005664+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/users [cid=7eb3750c]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "7eb3750c"}
{"timestamp": "2026-02-17T18:16:30.945155+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/audit [cid=de19f245]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "de19f245"}
{"timestamp": "2026-02-17T18:16:48.020305+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/warehouses [cid=33c1c133]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "33c1c133"}
{"timestamp": "2026-02-17T18:16:52.576480+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders [cid=7b55e921]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "7b55e921"}
{"timestamp": "2026-02-17T18:16:52.577550+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/statusi [cid=daa2e683]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "daa2e683"}
{"timestamp": "2026-02-17T18:16:52.582991+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/settings [cid=09f57f0d]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "09f57f0d"}
{"timestamp": "2026-02-17T18:16:52.588582+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/artikli-kriterija/artikl-sifre [cid=bcb31fe6]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "bcb31fe6"}
{"timestamp": "2026-02-17T18:16:52.589970+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routing/rutiranje-uids [cid=018ab8b0]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "018ab8b0"}
{"timestamp": "2026-02-17T18:16:52.591635+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders/with-criteria [cid=45fc8150]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "45fc8150"}
{"timestamp": "2026-02-17T18:16:52.992758+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/mantis/orders/bulk [cid=96d8e842]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "96d8e842"}
{"timestamp": "2026-02-17T18:16:53.079120+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "Bulk lazy sync za 55 naloga bez/sa starim cache-om", "module": "mantis_service", "function": "get_sscc_summary_for_orders", "line": 279, "correlation_id": "96d8e842"}
{"timestamp": "2026-02-17T18:16:53.098159+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync: 55 naloga, OrderCodes: ['4573-30', '4579-30', '2156-07', '4581-30', '5218-10', '8207-05', '1392-32', '5929-20', '8227-05', '7149-16']", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 112, "correlation_id": "96d8e842"}
{"timestamp": "2026-02-17T18:16:58.431575+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/mantis/orders/bulk [cid=1c011929]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "1c011929"}
{"timestamp": "2026-02-17T18:16:58.470804+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "Bulk lazy sync za 55 naloga bez/sa starim cache-om", "module": "mantis_service", "function": "get_sscc_summary_for_orders", "line": 279, "correlation_id": "1c011929"}
{"timestamp": "2026-02-17T18:16:58.474891+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync: 55 naloga, OrderCodes: ['4573-30', '4579-30', '2156-07', '4581-30', '5218-10', '8207-05', '1392-32', '5929-20', '8227-05', '7149-16']", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 112, "correlation_id": "1c011929"}
{"timestamp": "2026-02-17T18:17:08.217809+00:00", "level": "ERROR", "logger": "app.services.mantis_service", "message": "GreÅ¡ka pri Äitanju WMS-a (batch 0): (pyodbc.OperationalError) ('08001', '[08001] [Microsoft][ODBC Driver 17 for SQL Server]TCP Provider: The wait operation timed out.\\r\\n (258) (SQLDriverConnect); [08001] [Microsoft][ODBC Driver 17 for SQL Server]Login timeout expired (0); [08001] [Microsoft][ODBC Driver 17 for SQL Server]A network-related or instance-specific error has occurred while establishing a connection to SQL Server. Server is not found or not accessible. Check if instance name is correct and if SQL Server is configured to allow remote connections. For more information see SQL Server Books Online. (258)')\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 137, "correlation_id": "96d8e842"}
{"timestamp": "2026-02-17T18:17:13.591710+00:00", "level": "ERROR", "logger": "app.services.mantis_service", "message": "GreÅ¡ka pri Äitanju WMS-a (batch 0): (pyodbc.OperationalError) ('08001', '[08001] [Microsoft][ODBC Driver 17 for SQL Server]TCP Provider: The wait operation timed out.\\r\\n (258) (SQLDriverConnect); [08001] [Microsoft][ODBC Driver 17 for SQL Server]Login timeout expired (0); [08001] [Microsoft][ODBC Driver 17 for SQL Server]A network-related or instance-specific error has occurred while establishing a connection to SQL Server. Server is not found or not accessible. Check if instance name is correct and if SQL Server is configured to allow remote connections. For more information see SQL Server Books Online. (258)')\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 137, "correlation_id": "1c011929"}
{"timestamp": "2026-02-17T18:17:23.336356+00:00", "level": "ERROR", "logger": "app.services.mantis_service", "message": "GreÅ¡ka pri Äitanju WMS-a (batch 50): (pyodbc.OperationalError) ('08001', '[08001] [Microsoft][ODBC Driver 17 for SQL Server]TCP Provider: The wait operation timed out.\\r\\n (258) (SQLDriverConnect); [08001] [Microsoft][ODBC Driver 17 for SQL Server]Login timeout expired (0); [08001] [Microsoft][ODBC Driver 17 for SQL Server]A network-related or instance-specific error has occurred while establishing a connection to SQL Server. Server is not found or not accessible. Check if instance name is correct and if SQL Server is configured to allow remote connections. For more information see SQL Server Books Online. (258)')\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 137, "correlation_id": "96d8e842"}
{"timestamp": "2026-02-17T18:17:23.336730+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS vratio 0 redaka za 55 naloga", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 140, "correlation_id": "96d8e842"}
{"timestamp": "2026-02-17T18:17:23.375172+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync zavrÅ¡en: {'synced_orders': 55, 'total_items': 0, 'total_pallets': 0}", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 193, "correlation_id": "96d8e842"}
{"timestamp": "2026-02-17T18:17:28.737597+00:00", "level": "ERROR", "logger": "app.services.mantis_service", "message": "GreÅ¡ka pri Äitanju WMS-a (batch 50): (pyodbc.OperationalError) ('08001', '[08001] [Microsoft][ODBC Driver 17 for SQL Server]TCP Provider: The wait operation timed out.\\r\\n (258) (SQLDriverConnect); [08001] [Microsoft][ODBC Driver 17 for SQL Server]Login timeout expired (0); [08001] [Microsoft][ODBC Driver 17 for SQL Server]A network-related or instance-specific error has occurred while establishing a connection to SQL Server. Server is not found or not accessible. Check if instance name is correct and if SQL Server is configured to allow remote connections. For more information see SQL Server Books Online. (258)')\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 137, "correlation_id": "1c011929"}
{"timestamp": "2026-02-17T18:17:28.737880+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS vratio 0 redaka za 55 naloga", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 140, "correlation_id": "1c011929"}
{"timestamp": "2026-02-17T18:17:28.740824+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync zavrÅ¡en: {'synced_orders': 55, 'total_items': 0, 'total_pallets': 0}", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 193, "correlation_id": "1c011929"}
{"timestamp": "2026-02-17T18:18:06.346309+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/mantis/orders/bulk [cid=bb12d5f5]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "bb12d5f5"}
{"timestamp": "2026-02-17T18:18:06.413133+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "Bulk lazy sync za 1 naloga bez/sa starim cache-om", "module": "mantis_service", "function": "get_sscc_summary_for_orders", "line": 279, "correlation_id": "bb12d5f5"}
{"timestamp": "2026-02-17T18:18:06.437429+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync: 1 naloga, OrderCodes: ['4132-03']", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 112, "correlation_id": "bb12d5f5"}
{"timestamp": "2026-02-17T18:18:21.546690+00:00", "level": "ERROR", "logger": "app.services.mantis_service", "message": "GreÅ¡ka pri Äitanju WMS-a (batch 0): (pyodbc.OperationalError) ('08001', '[08001] [Microsoft][ODBC Driver 17 for SQL Server]TCP Provider: The wait operation timed out.\\r\\n (258) (SQLDriverConnect); [08001] [Microsoft][ODBC Driver 17 for SQL Server]Login timeout expired (0); [08001] [Microsoft][ODBC Driver 17 for SQL Server]A network-related or instance-specific error has occurred while establishing a connection to SQL Server. Server is not found or not accessible. Check if instance name is correct and if SQL Server is configured to allow remote connections. For more information see SQL Server Books Online. (258)')\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 137, "correlation_id": "bb12d5f5"}
{"timestamp": "2026-02-17T18:18:21.547257+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS vratio 0 redaka za 1 naloga", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 140, "correlation_id": "bb12d5f5"}
{"timestamp": "2026-02-17T18:18:21.554045+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync zavrÅ¡en: {'synced_orders': 1, 'total_items': 0, 'total_pallets': 0}", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 193, "correlation_id": "bb12d5f5"}
{"timestamp": "2026-02-17T18:28:19.608599+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/mantis/orders/bulk [cid=fb395f27]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "fb395f27"}
{"timestamp": "2026-02-17T18:28:19.613412+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders [cid=f6272d33]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "f6272d33"}
{"timestamp": "2026-02-17T18:28:19.660389+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/statusi [cid=2d6f9da8]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "2d6f9da8"}
{"timestamp": "2026-02-17T18:28:19.663415+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/settings [cid=7360c3aa]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "7360c3aa"}
{"timestamp": "2026-02-17T18:28:19.663753+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routing/rutiranje-uids [cid=b84b6c10]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "b84b6c10"}
{"timestamp": "2026-02-17T18:28:19.672284+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders/with-criteria [cid=f4e7655b]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "f4e7655b"}
{"timestamp": "2026-02-17T18:28:19.713380+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/artikli-kriterija/artikl-sifre [cid=e8177dd1]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "e8177dd1"}
{"timestamp": "2026-02-17T18:28:19.721677+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "Bulk lazy sync za 55 naloga bez/sa starim cache-om", "module": "mantis_service", "function": "get_sscc_summary_for_orders", "line": 279, "correlation_id": "fb395f27"}
{"timestamp": "2026-02-17T18:28:19.748485+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync: 55 naloga, OrderCodes: ['4573-30', '4579-30', '2156-07', '4581-30', '5218-10', '8207-05', '1392-32', '5929-20', '8227-05', '7149-16']", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 112, "correlation_id": "fb395f27"}
{"timestamp": "2026-02-17T18:28:19.854761+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS vratio 37 redaka za 55 naloga", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 140, "correlation_id": "fb395f27"}
{"timestamp": "2026-02-17T18:28:20.059521+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync zavrÅ¡en: {'synced_orders': 55, 'total_items': 37, 'total_pallets': 15}", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 193, "correlation_id": "fb395f27"}
{"timestamp": "2026-02-17T18:39:27.188831+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/auth/refresh [cid=e577b157]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "e577b157"}
{"timestamp": "2026-02-17T18:48:07.484978+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/mantis/orders/bulk [cid=e9da8c6b]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "e9da8c6b"}
{"timestamp": "2026-02-17T18:48:07.555726+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders [cid=a876bf25]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "a876bf25"}
{"timestamp": "2026-02-17T18:48:07.556662+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/statusi [cid=bc6b0a36]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "bc6b0a36"}
{"timestamp": "2026-02-17T18:48:07.561327+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders/with-criteria [cid=3d364227]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "3d364227"}
{"timestamp": "2026-02-17T18:48:07.562026+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routing/rutiranje-uids [cid=2e2cd3fc]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "2e2cd3fc"}
{"timestamp": "2026-02-17T18:48:07.562641+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/settings [cid=51aa4ed2]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "51aa4ed2"}
{"timestamp": "2026-02-17T18:48:07.615842+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/artikli-kriterija/artikl-sifre [cid=94ddb904]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "94ddb904"}
{"timestamp": "2026-02-17T18:48:07.623548+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "Bulk lazy sync za 55 naloga bez/sa starim cache-om", "module": "mantis_service", "function": "get_sscc_summary_for_orders", "line": 279, "correlation_id": "e9da8c6b"}
{"timestamp": "2026-02-17T18:48:07.689275+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync: 55 naloga, OrderCodes: ['4573-30', '4579-30', '2156-07', '4581-30', '5218-10', '8207-05', '1392-32', '5929-20', '8227-05', '7149-16']", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 112, "correlation_id": "e9da8c6b"}
{"timestamp": "2026-02-17T18:48:07.798883+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS vratio 37 redaka za 55 naloga", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 140, "correlation_id": "e9da8c6b"}
{"timestamp": "2026-02-17T18:48:08.029543+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync zavrÅ¡en: {'synced_orders': 55, 'total_items': 37, 'total_pallets': 15}", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 193, "correlation_id": "e9da8c6b"}
{"timestamp": "2026-02-17T18:48:11.685167+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/regions [cid=98645ef4]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "98645ef4"}
{"timestamp": "2026-02-17T18:48:11.690527+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/regions/tree [cid=491c1d6d]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "491c1d6d"}
{"timestamp": "2026-02-17T18:48:11.694115+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/postal-codes [cid=8623a038]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "8623a038"}
{"timestamp": "2026-02-17T18:49:14.209060+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/regions [cid=eb647ce1]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "eb647ce1"}
{"timestamp": "2026-02-17T18:49:14.212485+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/regions/tree [cid=25ba583f]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "25ba583f"}
{"timestamp": "2026-02-17T18:49:14.224103+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/postal-codes [cid=f73514c5]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "f73514c5"}
{"timestamp": "2026-02-17T18:50:31.478695+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/regions [cid=3d07e3f3]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "3d07e3f3"}
{"timestamp": "2026-02-17T18:50:31.486703+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/regions/tree [cid=76338688]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "76338688"}
{"timestamp": "2026-02-17T18:50:31.487660+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/postal-codes [cid=02745f19]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "02745f19"}
{"timestamp": "2026-02-17T18:52:58.028649+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/regions [cid=cad71ba6]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "cad71ba6"}
{"timestamp": "2026-02-17T18:52:58.070026+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/regions/tree [cid=19e81fd5]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "19e81fd5"}
{"timestamp": "2026-02-17T18:52:58.077475+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/postal-codes [cid=23172dee]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "23172dee"}
{"timestamp": "2026-02-17T18:53:58.701544+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/regions [cid=68bc2bf6]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "68bc2bf6"}
{"timestamp": "2026-02-17T18:53:58.702901+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/postal-codes [cid=80b65372]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "80b65372"}
{"timestamp": "2026-02-17T18:53:58.703524+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/regions/tree [cid=22f6867e]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "22f6867e"}
{"timestamp": "2026-02-17T18:59:35.978977+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/regions [cid=9942cb26]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "9942cb26"}
{"timestamp": "2026-02-17T18:59:35.997480+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/regions/tree [cid=cabb2494]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "cabb2494"}
{"timestamp": "2026-02-17T18:59:36.001387+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/postal-codes [cid=bb861f19]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "bb861f19"}
{"timestamp": "2026-02-17T18:59:39.090241+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/warehouses [cid=15caa1cf]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "15caa1cf"}
{"timestamp": "2026-02-17T19:01:16.134099+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/warehouses [cid=875db935]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "875db935"}
{"timestamp": "2026-02-17T19:02:55.233420+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/warehouses [cid=0488075c]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "0488075c"}
{"timestamp": "2026-02-17T19:02:58.790563+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/users [cid=517fee41]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "517fee41"}
{"timestamp": "2026-02-17T19:02:58.791678+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles [cid=999d0617]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "999d0617"}
{"timestamp": "2026-02-17T19:03:07.030153+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/audit [cid=650d1221]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "650d1221"}
{"timestamp": "2026-02-17T19:03:09.809137+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles/permissions/all [cid=109b9dbc]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "109b9dbc"}
{"timestamp": "2026-02-17T19:04:21.469453+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles [cid=a705a042]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "a705a042"}
{"timestamp": "2026-02-17T19:04:21.470112+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles/permissions/all [cid=2b300e6e]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "2b300e6e"}
{"timestamp": "2026-02-17T19:04:24.518451+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/auth/me [cid=0a19894b]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "0a19894b"}
{"timestamp": "2026-02-17T19:04:24.535441+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/auth/me [cid=4e1f4575]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "4e1f4575"}
{"timestamp": "2026-02-17T19:04:24.692728+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles [cid=7fb7d1db]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "7fb7d1db"}
{"timestamp": "2026-02-17T19:04:24.693784+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles/permissions/all [cid=69353b87]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "69353b87"}
{"timestamp": "2026-02-17T19:04:26.187117+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders [cid=3a0e6992]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "3a0e6992"}
{"timestamp": "2026-02-17T19:04:26.191105+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/vehicles [cid=85f5a35a]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "85f5a35a"}
{"timestamp": "2026-02-17T19:04:26.193694+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routes [cid=641a1cb1]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "641a1cb1"}
{"timestamp": "2026-02-17T19:04:29.940334+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders [cid=2cb2603b]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "2cb2603b"}
{"timestamp": "2026-02-17T19:04:29.942578+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/statusi [cid=04856938]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "04856938"}
{"timestamp": "2026-02-17T19:04:29.943455+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/settings [cid=bf0c3d12]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "bf0c3d12"}
{"timestamp": "2026-02-17T19:04:29.946198+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routing/rutiranje-uids [cid=009ce65d]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "009ce65d"}
{"timestamp": "2026-02-17T19:04:29.946750+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders/with-criteria [cid=6527459c]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "6527459c"}
{"timestamp": "2026-02-17T19:04:29.951377+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/artikli-kriterija/artikl-sifre [cid=0fe6cf86]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "0fe6cf86"}
{"timestamp": "2026-02-17T19:04:30.429924+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/mantis/orders/bulk [cid=1b1330de]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "1b1330de"}
{"timestamp": "2026-02-17T19:04:30.583216+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "Bulk lazy sync za 54 naloga bez/sa starim cache-om", "module": "mantis_service", "function": "get_sscc_summary_for_orders", "line": 279, "correlation_id": "1b1330de"}
{"timestamp": "2026-02-17T19:04:30.629872+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync: 54 naloga, OrderCodes: ['2156-07', '4581-30', '5218-10', '8207-05', '1392-32', '5929-20', '8227-05', '7149-16', '4021-03', '4133-100']", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 112, "correlation_id": "1b1330de"}
{"timestamp": "2026-02-17T19:04:30.903430+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS vratio 31 redaka za 54 naloga", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 140, "correlation_id": "1b1330de"}
{"timestamp": "2026-02-17T19:04:31.026480+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync zavrÅ¡en: {'synced_orders': 54, 'total_items': 31, 'total_pallets': 13}", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 193, "correlation_id": "1b1330de"}
{"timestamp": "2026-02-17T19:05:13.385363+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/mantis/orders/bulk [cid=47a2a7da]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "47a2a7da"}
{"timestamp": "2026-02-17T19:05:13.397870+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "Bulk lazy sync za 1 naloga bez/sa starim cache-om", "module": "mantis_service", "function": "get_sscc_summary_for_orders", "line": 279, "correlation_id": "47a2a7da"}
{"timestamp": "2026-02-17T19:05:13.402914+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync: 1 naloga, OrderCodes: ['3963-21']", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 112, "correlation_id": "47a2a7da"}
{"timestamp": "2026-02-17T19:05:13.483713+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS vratio 0 redaka za 1 naloga", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 140, "correlation_id": "47a2a7da"}
{"timestamp": "2026-02-17T19:05:13.488968+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync zavrÅ¡en: {'synced_orders': 1, 'total_items': 0, 'total_pallets': 0}", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 193, "correlation_id": "47a2a7da"}
{"timestamp": "2026-02-17T19:05:17.636658+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/mantis/orders/bulk [cid=2d4ad592]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "2d4ad592"}
{"timestamp": "2026-02-17T19:05:17.651319+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "Bulk lazy sync za 1 naloga bez/sa starim cache-om", "module": "mantis_service", "function": "get_sscc_summary_for_orders", "line": 279, "correlation_id": "2d4ad592"}
{"timestamp": "2026-02-17T19:05:17.669414+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync: 1 naloga, OrderCodes: ['4053-03']", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 112, "correlation_id": "2d4ad592"}
{"timestamp": "2026-02-17T19:05:17.684336+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS vratio 0 redaka za 1 naloga", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 140, "correlation_id": "2d4ad592"}
{"timestamp": "2026-02-17T19:05:17.688184+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync zavrÅ¡en: {'synced_orders': 1, 'total_items': 0, 'total_pallets': 0}", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 193, "correlation_id": "2d4ad592"}
{"timestamp": "2026-02-17T19:05:21.902046+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/mantis/orders/bulk [cid=32b058aa]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "32b058aa"}
{"timestamp": "2026-02-17T19:05:21.913549+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "Bulk lazy sync za 1 naloga bez/sa starim cache-om", "module": "mantis_service", "function": "get_sscc_summary_for_orders", "line": 279, "correlation_id": "32b058aa"}
{"timestamp": "2026-02-17T19:05:21.921117+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync: 1 naloga, OrderCodes: ['4166-100']", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 112, "correlation_id": "32b058aa"}
{"timestamp": "2026-02-17T19:05:21.989899+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS vratio 0 redaka za 1 naloga", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 140, "correlation_id": "32b058aa"}
{"timestamp": "2026-02-17T19:05:21.993475+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync zavrÅ¡en: {'synced_orders': 1, 'total_items': 0, 'total_pallets': 0}", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 193, "correlation_id": "32b058aa"}
{"timestamp": "2026-02-17T19:05:24.456151+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/mantis/orders/bulk [cid=55d8be39]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "55d8be39"}
{"timestamp": "2026-02-17T19:05:24.470787+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "Bulk lazy sync za 5 naloga bez/sa starim cache-om", "module": "mantis_service", "function": "get_sscc_summary_for_orders", "line": 279, "correlation_id": "55d8be39"}
{"timestamp": "2026-02-17T19:05:24.481730+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync: 5 naloga, OrderCodes: ['4133-100', '3343-19', '4153-100', '4171-100', '3457-19']", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 112, "correlation_id": "55d8be39"}
{"timestamp": "2026-02-17T19:05:24.575132+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS vratio 0 redaka za 5 naloga", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 140, "correlation_id": "55d8be39"}
{"timestamp": "2026-02-17T19:05:24.597715+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync zavrÅ¡en: {'synced_orders': 5, 'total_items': 0, 'total_pallets': 0}", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 193, "correlation_id": "55d8be39"}
{"timestamp": "2026-02-17T19:05:35.264175+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/mantis/orders/bulk [cid=0b6e7467]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "0b6e7467"}
{"timestamp": "2026-02-17T19:05:35.271876+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "Bulk lazy sync za 5 naloga bez/sa starim cache-om", "module": "mantis_service", "function": "get_sscc_summary_for_orders", "line": 279, "correlation_id": "0b6e7467"}
{"timestamp": "2026-02-17T19:05:35.299273+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync: 5 naloga, OrderCodes: ['4133-100', '3343-19', '4153-100', '4171-100', '3457-19']", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 112, "correlation_id": "0b6e7467"}
{"timestamp": "2026-02-17T19:05:35.322193+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS vratio 0 redaka za 5 naloga", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 140, "correlation_id": "0b6e7467"}
{"timestamp": "2026-02-17T19:05:35.324376+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync zavrÅ¡en: {'synced_orders': 5, 'total_items': 0, 'total_pallets': 0}", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 193, "correlation_id": "0b6e7467"}
{"timestamp": "2026-02-17T19:05:54.572938+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders/17767447-2928 [cid=ea695df0]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "ea695df0"}
{"timestamp": "2026-02-17T19:05:54.586210+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/mantis/order/17767447-2928 [cid=a3acc871]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "a3acc871"}
{"timestamp": "2026-02-17T19:05:54.615135+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync: 1 naloga, OrderCodes: ['4153-100']", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 112, "correlation_id": "a3acc871"}
{"timestamp": "2026-02-17T19:05:54.632157+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS vratio 0 redaka za 1 naloga", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 140, "correlation_id": "a3acc871"}
{"timestamp": "2026-02-17T19:05:54.635152+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync zavrÅ¡en: {'synced_orders': 1, 'total_items': 0, 'total_pallets': 0}", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 193, "correlation_id": "a3acc871"}
{"timestamp": "2026-02-17T19:06:19.222024+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routing/rutiranje-nalozi [cid=e516069f]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "e516069f"}
{"timestamp": "2026-02-17T19:06:19.247800+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/provider [cid=20cfae9e]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "20cfae9e"}
{"timestamp": "2026-02-17T19:06:19.248784+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/vehicle-types [cid=c3849776]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "c3849776"}
{"timestamp": "2026-02-17T19:06:19.251624+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/vehicles [cid=9bbac37e]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "9bbac37e"}
{"timestamp": "2026-02-17T19:06:19.255737+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/settings [cid=e6301ae4]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "e6301ae4"}
{"timestamp": "2026-02-17T19:06:19.466599+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/mantis/orders/bulk [cid=f7034bdf]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "f7034bdf"}
{"timestamp": "2026-02-17T19:06:19.505541+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "Bulk lazy sync za 7 naloga bez/sa starim cache-om", "module": "mantis_service", "function": "get_sscc_summary_for_orders", "line": 279, "correlation_id": "f7034bdf"}
{"timestamp": "2026-02-17T19:06:19.513903+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync: 7 naloga, OrderCodes: ['6805-16', '6557-16', '6624-16', '6758-16', '4372-30', '4154-100', '4163-100']", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 112, "correlation_id": "f7034bdf"}
{"timestamp": "2026-02-17T19:06:19.530251+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS vratio 0 redaka za 7 naloga", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 140, "correlation_id": "f7034bdf"}
{"timestamp": "2026-02-17T19:06:19.533715+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync zavrÅ¡en: {'synced_orders': 7, 'total_items': 0, 'total_pallets': 0}", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 193, "correlation_id": "f7034bdf"}
{"timestamp": "2026-02-17T19:06:22.678790+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/mantis/orders/bulk [cid=3d2d7fae]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "3d2d7fae"}
{"timestamp": "2026-02-17T19:06:22.693211+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "Bulk lazy sync za 7 naloga bez/sa starim cache-om", "module": "mantis_service", "function": "get_sscc_summary_for_orders", "line": 279, "correlation_id": "3d2d7fae"}
{"timestamp": "2026-02-17T19:06:22.707218+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync: 7 naloga, OrderCodes: ['6805-16', '6557-16', '6624-16', '6758-16', '4372-30', '4154-100', '4163-100']", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 112, "correlation_id": "3d2d7fae"}
{"timestamp": "2026-02-17T19:06:22.721881+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS vratio 0 redaka za 7 naloga", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 140, "correlation_id": "3d2d7fae"}
{"timestamp": "2026-02-17T19:06:22.729914+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync zavrÅ¡en: {'synced_orders': 7, 'total_items': 0, 'total_pallets': 0}", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 193, "correlation_id": "3d2d7fae"}
{"timestamp": "2026-02-17T19:06:23.286548+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/geocode-orders [cid=4a222bfd]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "4a222bfd"}
{"timestamp": "2026-02-17T19:06:27.256265+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/routing/vrati-iz-rutiranja [cid=0180a4fd]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "0180a4fd"}
{"timestamp": "2026-02-17T19:06:27.566857+00:00", "level": "INFO", "logger": "app.api.routing_orders", "message": "VraÄ‡eno 7 naloga iz rutiranja u original", "module": "routing_orders", "function": "vrati_iz_rutiranja", "line": 370, "correlation_id": "0180a4fd"}
{"timestamp": "2026-02-17T19:06:27.585127+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routing/rutiranje-nalozi [cid=0fceb216]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "0fceb216"}
{"timestamp": "2026-02-17T19:06:27.701922+00:00", "level": "INFO", "logger": "app.services.geocoding_service", "message": "Geocoding 'PUT PLOVANIJE, ZADAR 23000, 23000, Hrvatska' sa providerom: tomtom (2 varijanti)", "module": "geocoding_service", "function": "geocode", "line": 328, "correlation_id": "4a222bfd"}
{"timestamp": "2026-02-17T19:06:28.590525+00:00", "level": "INFO", "logger": "app.services.geocoding_service", "message": "Geocoded varijanta 1: 'PUT PLOVANIJE, ZADAR 23000, 23000, Hrvatska' -> (44.1691473, 15.1926444) [tomtom]", "module": "geocoding_service", "function": "geocode", "line": 335, "correlation_id": "4a222bfd"}
{"timestamp": "2026-02-17T19:06:29.349867+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routes [cid=d8be795b]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "d8be795b"}
{"timestamp": "2026-02-17T19:06:34.331110+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/mantis/orders/bulk [cid=6732884f]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "6732884f"}
{"timestamp": "2026-02-17T19:06:34.430251+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders [cid=7795c452]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "7795c452"}
{"timestamp": "2026-02-17T19:06:34.431170+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/statusi [cid=6a00e285]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "6a00e285"}
{"timestamp": "2026-02-17T19:06:34.432081+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routing/rutiranje-uids [cid=2f567b16]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "2f567b16"}
{"timestamp": "2026-02-17T19:06:34.433222+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders/with-criteria [cid=555d79a3]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "555d79a3"}
{"timestamp": "2026-02-17T19:06:34.433623+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/artikli-kriterija/artikl-sifre [cid=6ffc50ee]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "6ffc50ee"}
{"timestamp": "2026-02-17T19:06:34.442065+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "Bulk lazy sync za 48 naloga bez/sa starim cache-om", "module": "mantis_service", "function": "get_sscc_summary_for_orders", "line": 279, "correlation_id": "6732884f"}
{"timestamp": "2026-02-17T19:06:34.471687+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync: 48 naloga, OrderCodes: ['2156-07', '5218-10', '8207-05', '1392-32', '5929-20', '8227-05', '7149-16', '4021-03', '4133-100', '2349-14']", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 112, "correlation_id": "6732884f"}
{"timestamp": "2026-02-17T19:06:34.592511+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS vratio 0 redaka za 48 naloga", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 140, "correlation_id": "6732884f"}
{"timestamp": "2026-02-17T19:06:34.601254+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync zavrÅ¡en: {'synced_orders': 48, 'total_items': 0, 'total_pallets': 0}", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 193, "correlation_id": "6732884f"}
{"timestamp": "2026-02-17T19:06:34.824018+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/mantis/orders/bulk [cid=532c29e3]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "532c29e3"}
{"timestamp": "2026-02-17T19:06:34.860898+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "Bulk lazy sync za 45 naloga bez/sa starim cache-om", "module": "mantis_service", "function": "get_sscc_summary_for_orders", "line": 279, "correlation_id": "532c29e3"}
{"timestamp": "2026-02-17T19:06:34.874679+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync: 45 naloga, OrderCodes: ['4573-30', '4579-30', '2156-07', '5218-10', '8207-05', '1392-32', '5929-20', '8227-05', '7149-16', '4021-03']", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 112, "correlation_id": "532c29e3"}
{"timestamp": "2026-02-17T19:06:35.019375+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS vratio 6 redaka za 45 naloga", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 140, "correlation_id": "532c29e3"}
{"timestamp": "2026-02-17T19:06:35.191045+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync zavrÅ¡en: {'synced_orders': 45, 'total_items': 6, 'total_pallets': 2}", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 193, "correlation_id": "532c29e3"}
{"timestamp": "2026-02-17T19:06:40.179111+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/mantis/orders/bulk [cid=e74db7a5]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "e74db7a5"}
{"timestamp": "2026-02-17T19:06:40.197043+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "Bulk lazy sync za 5 naloga bez/sa starim cache-om", "module": "mantis_service", "function": "get_sscc_summary_for_orders", "line": 279, "correlation_id": "e74db7a5"}
{"timestamp": "2026-02-17T19:06:40.203600+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync: 5 naloga, OrderCodes: ['4133-100', '3343-19', '4153-100', '4171-100', '3457-19']", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 112, "correlation_id": "e74db7a5"}
{"timestamp": "2026-02-17T19:06:40.244614+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS vratio 0 redaka za 5 naloga", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 140, "correlation_id": "e74db7a5"}
{"timestamp": "2026-02-17T19:06:40.249568+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync zavrÅ¡en: {'synced_orders': 5, 'total_items': 0, 'total_pallets': 0}", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 193, "correlation_id": "e74db7a5"}
{"timestamp": "2026-02-17T19:06:43.667733+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/mantis/orders/bulk [cid=592a06be]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "592a06be"}
{"timestamp": "2026-02-17T19:06:43.679656+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "Bulk lazy sync za 5 naloga bez/sa starim cache-om", "module": "mantis_service", "function": "get_sscc_summary_for_orders", "line": 279, "correlation_id": "592a06be"}
{"timestamp": "2026-02-17T19:06:43.684307+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync: 5 naloga, OrderCodes: ['4133-100', '3343-19', '4153-100', '4171-100', '3457-19']", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 112, "correlation_id": "592a06be"}
{"timestamp": "2026-02-17T19:06:43.713712+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS vratio 0 redaka za 5 naloga", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 140, "correlation_id": "592a06be"}
{"timestamp": "2026-02-17T19:06:43.716527+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync zavrÅ¡en: {'synced_orders': 5, 'total_items': 0, 'total_pallets': 0}", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 193, "correlation_id": "592a06be"}
{"timestamp": "2026-02-17T19:06:46.121200+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/routing/prebaci-u-rutiranje [cid=68b019e1]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "68b019e1"}
{"timestamp": "2026-02-17T19:06:46.387918+00:00", "level": "INFO", "logger": "app.api.routing_orders", "message": "PrebaÄeno 5 naloga u rutiranje", "module": "routing_orders", "function": "prebaci_u_rutiranje", "line": 324, "correlation_id": "68b019e1"}
{"timestamp": "2026-02-17T19:06:46.477211+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders [cid=39f2d16e]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "39f2d16e"}
{"timestamp": "2026-02-17T19:06:46.481828+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routing/rutiranje-uids [cid=04181f57]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "04181f57"}
{"timestamp": "2026-02-17T19:06:57.069852+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/auth/me [cid=6ae6404a]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "6ae6404a"}
{"timestamp": "2026-02-17T19:06:57.095719+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/auth/me [cid=820b9b4f]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "820b9b4f"}
{"timestamp": "2026-02-17T19:06:57.119960+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routing/rutiranje-nalozi [cid=e744389a]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "e744389a"}
{"timestamp": "2026-02-17T19:06:57.120515+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/provider [cid=2cdba85b]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "2cdba85b"}
{"timestamp": "2026-02-17T19:06:57.121974+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/vehicle-types [cid=fb7eae88]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "fb7eae88"}
{"timestamp": "2026-02-17T19:06:57.122137+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/vehicles [cid=b1caaaee]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "b1caaaee"}
{"timestamp": "2026-02-17T19:06:57.126642+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/settings [cid=e864eae4]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "e864eae4"}
{"timestamp": "2026-02-17T19:06:57.225097+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/mantis/orders/bulk [cid=1988f61d]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "1988f61d"}
{"timestamp": "2026-02-17T19:06:57.236821+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "Bulk lazy sync za 5 naloga bez/sa starim cache-om", "module": "mantis_service", "function": "get_sscc_summary_for_orders", "line": 279, "correlation_id": "1988f61d"}
{"timestamp": "2026-02-17T19:06:57.244330+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync: 5 naloga, OrderCodes: ['4133-100', '3343-19', '4153-100', '4171-100', '3457-19']", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 112, "correlation_id": "1988f61d"}
{"timestamp": "2026-02-17T19:06:57.268731+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS vratio 0 redaka za 5 naloga", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 140, "correlation_id": "1988f61d"}
{"timestamp": "2026-02-17T19:06:57.271735+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync zavrÅ¡en: {'synced_orders': 5, 'total_items': 0, 'total_pallets': 0}", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 193, "correlation_id": "1988f61d"}
{"timestamp": "2026-02-17T19:07:15.318634+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/mantis/orders/bulk [cid=a55673d0]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "a55673d0"}
{"timestamp": "2026-02-17T19:07:15.336442+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "Bulk lazy sync za 5 naloga bez/sa starim cache-om", "module": "mantis_service", "function": "get_sscc_summary_for_orders", "line": 279, "correlation_id": "a55673d0"}
{"timestamp": "2026-02-17T19:07:15.340327+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync: 5 naloga, OrderCodes: ['4133-100', '3343-19', '4153-100', '4171-100', '3457-19']", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 112, "correlation_id": "a55673d0"}
{"timestamp": "2026-02-17T19:07:15.361742+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS vratio 0 redaka za 5 naloga", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 140, "correlation_id": "a55673d0"}
{"timestamp": "2026-02-17T19:07:15.364225+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync zavrÅ¡en: {'synced_orders': 5, 'total_items': 0, 'total_pallets': 0}", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 193, "correlation_id": "a55673d0"}
{"timestamp": "2026-02-17T19:07:15.923044+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/geocode-orders [cid=be380c8a]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "be380c8a"}
{"timestamp": "2026-02-17T19:07:15.977377+00:00", "level": "INFO", "logger": "app.services.geocoding_service", "message": "Geocoding 'VARAÅ½DINSKA UL.2, Novi Marof (42220), 42220, Hrvatska' sa providerom: tomtom (3 varijanti)", "module": "geocoding_service", "function": "geocode", "line": 328, "correlation_id": "be380c8a"}
{"timestamp": "2026-02-17T19:07:16.971147+00:00", "level": "INFO", "logger": "app.services.geocoding_service", "message": "Geocoded varijanta 1: 'VARAÅ½DINSKA ULICA2, Novi Marof , 42220, Hrvatska' -> (46.1264008, 16.3642738) [tomtom]", "module": "geocoding_service", "function": "geocode", "line": 335, "correlation_id": "be380c8a"}
{"timestamp": "2026-02-17T19:07:17.249520+00:00", "level": "INFO", "logger": "app.services.geocoding_service", "message": "Geocoding 'SVETI ÄURÄ, SELNA 10, Sveti ÄurÄ‘, 42233, Hrvatska' sa providerom: tomtom (2 varijanti)", "module": "geocoding_service", "function": "geocode", "line": 328, "correlation_id": "be380c8a"}
{"timestamp": "2026-02-17T19:07:18.132416+00:00", "level": "INFO", "logger": "app.services.geocoding_service", "message": "Geocoded varijanta 1: 'SVETI ÄURÄ, SELNA 10, Sveti ÄurÄ‘, 42233, Hrvatska' -> (46.2809084, 16.6010683) [tomtom]", "module": "geocoding_service", "function": "geocode", "line": 335, "correlation_id": "be380c8a"}
{"timestamp": "2026-02-17T19:07:18.241950+00:00", "level": "INFO", "logger": "app.services.geocoding_service", "message": "Geocoding 'CERJE TUÅ¾NO 32, Radovan, 42242, Hrvatska' sa providerom: tomtom (2 varijanti)", "module": "geocoding_service", "function": "geocode", "line": 328, "correlation_id": "be380c8a"}
{"timestamp": "2026-02-17T19:07:19.124767+00:00", "level": "INFO", "logger": "app.services.geocoding_service", "message": "Geocoded varijanta 1: 'CERJE TUÅ¾NO 32, Radovan, 42242, Hrvatska' -> (46.2537191, 16.2087248) [tomtom]", "module": "geocoding_service", "function": "geocode", "line": 335, "correlation_id": "be380c8a"}
{"timestamp": "2026-02-17T19:07:19.340708+00:00", "level": "INFO", "logger": "app.services.geocoding_service", "message": "Geocoding 'ZAGREBAÄŒKA 157, VaraÅ¾din, 42000, Hrvatska' sa providerom: tomtom (2 varijanti)", "module": "geocoding_service", "function": "geocode", "line": 328, "correlation_id": "be380c8a"}
{"timestamp": "2026-02-17T19:07:20.218339+00:00", "level": "INFO", "logger": "app.services.geocoding_service", "message": "Geocoded varijanta 1: 'ZAGREBAÄŒKA 157, VaraÅ¾din, 42000, Hrvatska' -> (46.2856544, 16.3475941) [tomtom]", "module": "geocoding_service", "function": "geocode", "line": 335, "correlation_id": "be380c8a"}
{"timestamp": "2026-02-17T19:07:20.831412+00:00", "level": "INFO", "logger": "app.services.geocoding_service", "message": "Geocoding 'M.P.MiÅ¡kine 3., VaraÅ¾din, 42000, Hrvatska' sa providerom: tomtom (3 varijanti)", "module": "geocoding_service", "function": "geocode", "line": 328, "correlation_id": "be380c8a"}
{"timestamp": "2026-02-17T19:07:21.736590+00:00", "level": "INFO", "logger": "app.services.geocoding_service", "message": "Geocoded varijanta 1: 'M. P.MiÅ¡kine 3., VaraÅ¾din, 42000, Hrvatska' -> (46.3107722, 16.3457339) [tomtom]", "module": "geocoding_service", "function": "geocode", "line": 335, "correlation_id": "be380c8a"}
{"timestamp": "2026-02-17T19:07:46.512642+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/auth/me [cid=be4c7feb]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "be4c7feb"}
{"timestamp": "2026-02-17T19:07:46.532076+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/auth/me [cid=97a95ef5]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "97a95ef5"}
{"timestamp": "2026-02-17T19:07:46.555957+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routing/rutiranje-nalozi [cid=63206fcf]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "63206fcf"}
{"timestamp": "2026-02-17T19:07:46.556526+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/vehicles [cid=1eaa39ba]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "1eaa39ba"}
{"timestamp": "2026-02-17T19:07:46.556680+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/provider [cid=cc4bfdb8]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "cc4bfdb8"}
{"timestamp": "2026-02-17T19:07:46.558565+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/vehicle-types [cid=ce7ffb21]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "ce7ffb21"}
{"timestamp": "2026-02-17T19:07:46.560219+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/settings [cid=7e61d671]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "7e61d671"}
{"timestamp": "2026-02-17T19:07:46.690746+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/mantis/orders/bulk [cid=01b5f138]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "01b5f138"}
{"timestamp": "2026-02-17T19:07:46.703502+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "Bulk lazy sync za 5 naloga bez/sa starim cache-om", "module": "mantis_service", "function": "get_sscc_summary_for_orders", "line": 279, "correlation_id": "01b5f138"}
{"timestamp": "2026-02-17T19:07:46.716042+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync: 5 naloga, OrderCodes: ['4133-100', '3343-19', '4153-100', '4171-100', '3457-19']", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 112, "correlation_id": "01b5f138"}
{"timestamp": "2026-02-17T19:07:48.558318+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/mantis/orders/bulk [cid=63ee299c]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "63ee299c"}
{"timestamp": "2026-02-17T19:07:48.568928+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "Bulk lazy sync za 5 naloga bez/sa starim cache-om", "module": "mantis_service", "function": "get_sscc_summary_for_orders", "line": 279, "correlation_id": "63ee299c"}
{"timestamp": "2026-02-17T19:07:48.570869+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync: 5 naloga, OrderCodes: ['4133-100', '3343-19', '4153-100', '4171-100', '3457-19']", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 112, "correlation_id": "63ee299c"}
{"timestamp": "2026-02-17T19:07:49.165027+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/geocode-orders [cid=2cd2129e]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "2cd2129e"}
{"timestamp": "2026-02-17T19:08:01.830496+00:00", "level": "ERROR", "logger": "app.services.mantis_service", "message": "GreÅ¡ka pri Äitanju WMS-a (batch 0): (pyodbc.OperationalError) ('08001', '[08001] [Microsoft][ODBC Driver 17 for SQL Server]TCP Provider: The wait operation timed out.\\r\\n (258) (SQLDriverConnect); [08001] [Microsoft][ODBC Driver 17 for SQL Server]Login timeout expired (0); [08001] [Microsoft][ODBC Driver 17 for SQL Server]A network-related or instance-specific error has occurred while establishing a connection to SQL Server. Server is not found or not accessible. Check if instance name is correct and if SQL Server is configured to allow remote connections. For more information see SQL Server Books Online. (258)')\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 137, "correlation_id": "01b5f138"}
{"timestamp": "2026-02-17T19:08:01.830880+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS vratio 0 redaka za 5 naloga", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 140, "correlation_id": "01b5f138"}
{"timestamp": "2026-02-17T19:08:01.835926+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync zavrÅ¡en: {'synced_orders': 5, 'total_items': 0, 'total_pallets': 0}", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 193, "correlation_id": "01b5f138"}
{"timestamp": "2026-02-17T19:08:03.674980+00:00", "level": "ERROR", "logger": "app.services.mantis_service", "message": "GreÅ¡ka pri Äitanju WMS-a (batch 0): (pyodbc.OperationalError) ('08001', '[08001] [Microsoft][ODBC Driver 17 for SQL Server]TCP Provider: The wait operation timed out.\\r\\n (258) (SQLDriverConnect); [08001] [Microsoft][ODBC Driver 17 for SQL Server]Login timeout expired (0); [08001] [Microsoft][ODBC Driver 17 for SQL Server]A network-related or instance-specific error has occurred while establishing a connection to SQL Server. Server is not found or not accessible. Check if instance name is correct and if SQL Server is configured to allow remote connections. For more information see SQL Server Books Online. (258)')\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 137, "correlation_id": "63ee299c"}
{"timestamp": "2026-02-17T19:08:03.675832+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS vratio 0 redaka za 5 naloga", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 140, "correlation_id": "63ee299c"}
{"timestamp": "2026-02-17T19:08:03.680979+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync zavrÅ¡en: {'synced_orders': 5, 'total_items': 0, 'total_pallets': 0}", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 193, "correlation_id": "63ee299c"}
{"timestamp": "2026-02-17T19:08:46.926088+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/routes [cid=83beab40]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "83beab40"}
{"timestamp": "2026-02-17T19:08:48.364668+00:00", "level": "INFO", "logger": "app.services.routing_service", "message": "TomTom Waypoint Optimization: 5 stopova", "module": "routing_service", "function": "_optimize_with_tomtom", "line": 462, "correlation_id": "83beab40"}
{"timestamp": "2026-02-17T19:08:49.349267+00:00", "level": "ERROR", "logger": "app.services.routing_service", "message": "TomTom Waypoint Optimization error: 400 Client Error: Bad Request for url: https://api.tomtom.com/routing/waypointoptimization/1?key=KYAqZYb5jy4UF5wEadM2UtJfO99BlPQV â€“ fallback na nearest_neighbor", "module": "routing_service", "function": "_optimize_with_tomtom", "line": 497, "correlation_id": "83beab40", "exception": {"type": "HTTPError", "message": "400 Client Error: Bad Request for url: https://api.tomtom.com/routing/waypointoptimization/1?key=KYAqZYb5jy4UF5wEadM2UtJfO99BlPQV"}}
{"timestamp": "2026-02-17T19:08:49.391681+00:00", "level": "INFO", "logger": "app.services.distance_service", "message": "TomTom Matrix sync: 6 lokacija (36 Ä‡elija)", "module": "distance_service", "function": "_distance_matrix_tomtom_sync", "line": 277, "correlation_id": "83beab40"}
{"timestamp": "2026-02-17T19:08:50.366809+00:00", "level": "ERROR", "logger": "app.services.distance_service", "message": "TomTom Matrix sync error: 400 Client Error: Bad Request for url: https://api.tomtom.com/routing/1/matrix/sync/json?key=KYAqZYb5jy4UF5wEadM2UtJfO99BlPQV", "module": "distance_service", "function": "_distance_matrix_tomtom_sync", "line": 288, "correlation_id": "83beab40", "exception": {"type": "HTTPError", "message": "400 Client Error: Bad Request for url: https://api.tomtom.com/routing/1/matrix/sync/json?key=KYAqZYb5jy4UF5wEadM2UtJfO99BlPQV"}}
{"timestamp": "2026-02-17T19:08:50.369941+00:00", "level": "WARNING", "logger": "app.services.distance_service", "message": "TomTom Matrix nije uspio, fallback na OSRM Table API", "module": "distance_service", "function": "get_distance_matrix_fast", "line": 455, "correlation_id": "83beab40"}
{"timestamp": "2026-02-17T19:08:50.370182+00:00", "level": "INFO", "logger": "app.services.distance_service", "message": "OSRM Table API: 6 lokacija", "module": "distance_service", "function": "_distance_matrix_osrm", "line": 470, "correlation_id": "83beab40"}
{"timestamp": "2026-02-17T19:08:50.480912+00:00", "level": "INFO", "logger": "app.services.distance_service", "message": "OSRM Table API: 6x6 matrica dohvaÄ‡ena", "module": "distance_service", "function": "_distance_matrix_osrm", "line": 480, "correlation_id": "83beab40"}
{"timestamp": "2026-02-17T19:08:50.481343+00:00", "level": "INFO", "logger": "app.services.routing_service", "message": "Nearest Neighbor: koristim brzi OSRM Table API (6x6 matrica)", "module": "routing_service", "function": "_nearest_neighbor", "line": 251, "correlation_id": "83beab40"}
{"timestamp": "2026-02-17T19:08:50.481528+00:00", "level": "INFO", "logger": "app.services.routing_service", "message": "Nearest Neighbor: optimizirano 5 stopova, ukupna udaljenost: 161.4 km", "module": "routing_service", "function": "_nearest_neighbor", "line": 286, "correlation_id": "83beab40"}
{"timestamp": "2026-02-17T19:08:50.484487+00:00", "level": "INFO", "logger": "app.services.distance_service", "message": "Route geometry provider: tomtom, 6 waypoints", "module": "distance_service", "function": "get_route_geometry", "line": 501, "correlation_id": "83beab40"}
{"timestamp": "2026-02-17T19:08:50.484723+00:00", "level": "INFO", "logger": "app.services.distance_service", "message": "TomTom geometry request: 6 waypoints", "module": "distance_service", "function": "_route_geometry_tomtom", "line": 236, "correlation_id": "83beab40"}
{"timestamp": "2026-02-17T19:08:51.584331+00:00", "level": "INFO", "logger": "app.services.distance_service", "message": "TomTom geometry: dobiveno 3056 koordinata", "module": "distance_service", "function": "_route_geometry_tomtom", "line": 251, "correlation_id": "83beab40"}
{"timestamp": "2026-02-17T19:08:51.740008+00:00", "level": "INFO", "logger": "app.services.routing_service", "message": "Kreirana ruta 1019 s 5 stopova, 161.39 km, 214 min (status: PLANNED)", "module": "routing_service", "function": "create_route", "line": 649, "correlation_id": "83beab40"}
{"timestamp": "2026-02-17T19:08:51.804562+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routing/rutiranje-nalozi [cid=d9d86b10]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "d9d86b10"}
{"timestamp": "2026-02-17T19:10:17.635364+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routes [cid=bc30865b]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "bc30865b"}
{"timestamp": "2026-02-17T19:10:17.639098+00:00", "level": "WARNING", "logger": "app.main", "message": "GET /api/routes -> 401 (4ms) [cid=bc30865b]", "module": "main", "function": "log_requests", "line": 51, "correlation_id": "bc30865b"}
{"timestamp": "2026-02-17T19:10:27.754680+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/auth/login [cid=ace3e48a]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "ace3e48a"}
{"timestamp": "2026-02-17T19:10:28.149046+00:00", "level": "WARNING", "logger": "app.main", "message": "POST /api/auth/login -> 401 (394ms) [cid=ace3e48a]", "module": "main", "function": "log_requests", "line": 51, "correlation_id": "ace3e48a"}
{"timestamp": "2026-02-17T19:10:36.572428+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/auth/login [cid=150b173c]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "150b173c"}
{"timestamp": "2026-02-17T19:10:36.979168+00:00", "level": "INFO", "logger": "app.api.auth", "message": "Login: user=admin ip=127.0.0.1", "module": "auth", "function": "login", "line": 177, "correlation_id": "150b173c"}
{"timestamp": "2026-02-17T19:10:37.028597+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders [cid=a08a33ad]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "a08a33ad"}
{"timestamp": "2026-02-17T19:10:37.033962+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/vehicles [cid=c9de2d28]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "c9de2d28"}
{"timestamp": "2026-02-17T19:10:37.036266+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routes [cid=e48250ff]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "e48250ff"}
{"timestamp": "2026-02-17T19:10:39.147639+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routes [cid=9731a22f]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "9731a22f"}
{"timestamp": "2026-02-17T19:10:54.577046+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routes/1019 [cid=13340816]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "13340816"}
{"timestamp": "2026-02-17T19:11:14.123291+00:00", "level": "INFO", "logger": "app.main", "message": "PUT /api/routes/1019/reorder [cid=24fc57cd]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "24fc57cd"}
{"timestamp": "2026-02-17T19:11:14.124349+00:00", "level": "INFO", "logger": "app.main", "message": "PUT /api/routes/1019/reorder [cid=d58bc705]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "d58bc705"}
{"timestamp": "2026-02-17T19:11:14.194909+00:00", "level": "INFO", "logger": "app.services.distance_service", "message": "Route geometry provider: tomtom, 6 waypoints", "module": "distance_service", "function": "get_route_geometry", "line": 501, "correlation_id": "24fc57cd"}
{"timestamp": "2026-02-17T19:11:14.195377+00:00", "level": "INFO", "logger": "app.services.distance_service", "message": "TomTom geometry request: 6 waypoints", "module": "distance_service", "function": "_route_geometry_tomtom", "line": 236, "correlation_id": "24fc57cd"}
{"timestamp": "2026-02-17T19:11:14.195830+00:00", "level": "INFO", "logger": "app.services.distance_service", "message": "Route geometry provider: tomtom, 6 waypoints", "module": "distance_service", "function": "get_route_geometry", "line": 501, "correlation_id": "d58bc705"}
{"timestamp": "2026-02-17T19:11:14.196540+00:00", "level": "INFO", "logger": "app.services.distance_service", "message": "TomTom geometry request: 6 waypoints", "module": "distance_service", "function": "_route_geometry_tomtom", "line": 236, "correlation_id": "d58bc705"}
{"timestamp": "2026-02-17T19:11:15.235884+00:00", "level": "INFO", "logger": "app.services.distance_service", "message": "TomTom geometry: dobiveno 3278 koordinata", "module": "distance_service", "function": "_route_geometry_tomtom", "line": 251, "correlation_id": "d58bc705"}
{"timestamp": "2026-02-17T19:11:15.257871+00:00", "level": "INFO", "logger": "app.services.distance_service", "message": "TomTom geometry: dobiveno 3278 koordinata", "module": "distance_service", "function": "_route_geometry_tomtom", "line": 251, "correlation_id": "24fc57cd"}
{"timestamp": "2026-02-17T19:11:15.337316+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routes/1019 [cid=95f6e4b0]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "95f6e4b0"}
{"timestamp": "2026-02-17T19:11:15.390846+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routes/1019 [cid=0fc4a7f4]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "0fc4a7f4"}
{"timestamp": "2026-02-17T19:11:28.786970+00:00", "level": "INFO", "logger": "app.main", "message": "PUT /api/routes/1019/status [cid=05434f34]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "05434f34"}
{"timestamp": "2026-02-17T19:11:28.886736+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routes/1019 [cid=2733bf5a]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "2733bf5a"}
{"timestamp": "2026-02-17T19:12:57.656048+00:00", "level": "INFO", "logger": "app.main", "message": "PUT /api/routes/1019/stops/1034/status [cid=0b0fd1f0]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "0b0fd1f0"}
{"timestamp": "2026-02-17T19:12:57.711349+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routes/1019 [cid=2e26cbd0]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "2e26cbd0"}
{"timestamp": "2026-02-17T19:23:35.342670+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/provider [cid=11a64455]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "11a64455"}
{"timestamp": "2026-02-17T19:23:35.352079+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/settings [cid=18cc7520]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "18cc7520"}
{"timestamp": "2026-02-17T19:23:35.384760+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routes/1019 [cid=75869110]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "75869110"}
{"timestamp": "2026-02-17T19:23:39.580235+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/warehouses [cid=500b1d22]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "500b1d22"}
{"timestamp": "2026-02-17T19:24:00.015544+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/auth/me [cid=e4e8864c]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "e4e8864c"}
{"timestamp": "2026-02-17T19:24:00.042094+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/auth/me [cid=4c3b13fa]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "4c3b13fa"}
{"timestamp": "2026-02-17T19:24:00.201884+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/warehouses [cid=3a8469e9]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "3a8469e9"}
{"timestamp": "2026-02-17T19:26:16.995340+00:00", "level": "INFO", "logger": "app.main", "message": "PUT /api/warehouses/11 [cid=8f188bc5]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "8f188bc5"}
{"timestamp": "2026-02-17T19:26:17.089615+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/warehouses [cid=57c930b4]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "57c930b4"}
{"timestamp": "2026-02-17T19:27:41.255796+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/warehouses [cid=3c8f7710]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "3c8f7710"}
{"timestamp": "2026-02-17T19:29:22.189236+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/warehouses [cid=a6b125c0]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "a6b125c0"}
{"timestamp": "2026-02-17T19:29:41.663921+00:00", "level": "INFO", "logger": "app.main", "message": "PUT /api/warehouses/11 [cid=3c2034b8]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "3c2034b8"}
{"timestamp": "2026-02-17T19:29:41.724512+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/warehouses [cid=532ba2a9]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "532ba2a9"}
{"timestamp": "2026-02-17T19:30:04.130903+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/users [cid=2e942f91]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "2e942f91"}
{"timestamp": "2026-02-17T19:30:04.132203+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles [cid=eae7b519]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "eae7b519"}
{"timestamp": "2026-02-17T19:32:43.531438+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/warehouses [cid=a8650da3]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "a8650da3"}
{"timestamp": "2026-02-17T19:32:43.536432+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/users [cid=1f8d3930]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "1f8d3930"}
{"timestamp": "2026-02-17T19:32:43.546532+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles [cid=f06f31f2]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "f06f31f2"}
{"timestamp": "2026-02-17T19:34:24.419564+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/users [cid=5955c85f]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "5955c85f"}
{"timestamp": "2026-02-17T19:34:24.466983+00:00", "level": "WARNING", "logger": "app.main", "message": "POST /api/users -> 400 (47ms) [cid=5955c85f]", "module": "main", "function": "log_requests", "line": 51, "correlation_id": "5955c85f"}
{"timestamp": "2026-02-17T19:35:31.773674+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/users [cid=70102b54]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "70102b54"}
{"timestamp": "2026-02-17T19:35:32.255825+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/users [cid=40174613]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "40174613"}
{"timestamp": "2026-02-17T19:35:41.999284+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/auth/logout [cid=521a6130]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "521a6130"}
{"timestamp": "2026-02-17T19:36:05.193946+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/auth/login [cid=f78340d2]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "f78340d2"}
{"timestamp": "2026-02-17T19:36:05.668143+00:00", "level": "INFO", "logger": "app.api.auth", "message": "Login: user=test05 ip=127.0.0.1", "module": "auth", "function": "login", "line": 177, "correlation_id": "f78340d2"}
{"timestamp": "2026-02-17T19:36:05.749733+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders [cid=8ab674df]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "8ab674df"}
{"timestamp": "2026-02-17T19:36:05.752529+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/vehicles [cid=6457ebaf]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "6457ebaf"}
{"timestamp": "2026-02-17T19:36:05.755544+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routes [cid=11af12e9]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "11af12e9"}
{"timestamp": "2026-02-17T19:36:10.421595+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders [cid=2d440b61]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "2d440b61"}
{"timestamp": "2026-02-17T19:36:10.423624+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/statusi [cid=66c07a21]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "66c07a21"}
{"timestamp": "2026-02-17T19:36:10.438415+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders/with-criteria [cid=c85f4395]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "c85f4395"}
{"timestamp": "2026-02-17T19:36:10.439249+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/settings [cid=b8b58d91]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "b8b58d91"}
{"timestamp": "2026-02-17T19:36:10.441273+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routing/rutiranje-uids [cid=b3c07e64]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "b3c07e64"}
{"timestamp": "2026-02-17T19:36:10.442629+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/artikli-kriterija/artikl-sifre [cid=0c5d7178]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "0c5d7178"}
{"timestamp": "2026-02-17T19:36:10.809107+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/mantis/orders/bulk [cid=379f2131]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "379f2131"}
{"timestamp": "2026-02-17T19:36:10.873457+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "Bulk lazy sync za 52 naloga bez/sa starim cache-om", "module": "mantis_service", "function": "get_sscc_summary_for_orders", "line": 279, "correlation_id": "379f2131"}
{"timestamp": "2026-02-17T19:36:10.891128+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync: 52 naloga, OrderCodes: ['4579-30', '2156-07', '4581-30', '5218-10', '8207-05', '1392-32', '5929-20', '8227-05', '7149-16', '4021-03']", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 112, "correlation_id": "379f2131"}
{"timestamp": "2026-02-17T19:36:22.928918+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/prioriteti [cid=442f4833]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "442f4833"}
{"timestamp": "2026-02-17T19:36:25.286715+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/warehouses [cid=6e2a9c89]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "6e2a9c89"}
{"timestamp": "2026-02-17T19:36:26.008711+00:00", "level": "ERROR", "logger": "app.services.mantis_service", "message": "GreÅ¡ka pri Äitanju WMS-a (batch 0): (pyodbc.OperationalError) ('08001', '[08001] [Microsoft][ODBC Driver 17 for SQL Server]TCP Provider: The wait operation timed out.\\r\\n (258) (SQLDriverConnect); [08001] [Microsoft][ODBC Driver 17 for SQL Server]Login timeout expired (0); [08001] [Microsoft][ODBC Driver 17 for SQL Server]A network-related or instance-specific error has occurred while establishing a connection to SQL Server. Server is not found or not accessible. Check if instance name is correct and if SQL Server is configured to allow remote connections. For more information see SQL Server Books Online. (258)')\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 137, "correlation_id": "379f2131"}
{"timestamp": "2026-02-17T19:36:41.129752+00:00", "level": "ERROR", "logger": "app.services.mantis_service", "message": "GreÅ¡ka pri Äitanju WMS-a (batch 50): (pyodbc.OperationalError) ('08001', '[08001] [Microsoft][ODBC Driver 17 for SQL Server]TCP Provider: The wait operation timed out.\\r\\n (258) (SQLDriverConnect); [08001] [Microsoft][ODBC Driver 17 for SQL Server]Login timeout expired (0); [08001] [Microsoft][ODBC Driver 17 for SQL Server]A network-related or instance-specific error has occurred while establishing a connection to SQL Server. Server is not found or not accessible. Check if instance name is correct and if SQL Server is configured to allow remote connections. For more information see SQL Server Books Online. (258)')\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 137, "correlation_id": "379f2131"}
{"timestamp": "2026-02-17T19:36:41.130044+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS vratio 0 redaka za 52 naloga", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 140, "correlation_id": "379f2131"}
{"timestamp": "2026-02-17T19:36:41.151803+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync zavrÅ¡en: {'synced_orders': 52, 'total_items': 0, 'total_pallets': 0}", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 193, "correlation_id": "379f2131"}
{"timestamp": "2026-02-17T19:52:52.917760+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders [cid=5a282f32]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "5a282f32"}
{"timestamp": "2026-02-17T19:52:52.918997+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/statusi [cid=cdc4ecd8]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "cdc4ecd8"}
{"timestamp": "2026-02-17T19:52:52.920666+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routing/rutiranje-uids [cid=67e8af68]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "67e8af68"}
{"timestamp": "2026-02-17T19:52:52.921689+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/settings [cid=a815e0e9]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "a815e0e9"}
{"timestamp": "2026-02-17T19:52:52.923086+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/mantis/orders/bulk [cid=5bb11cce]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "5bb11cce"}
{"timestamp": "2026-02-17T19:52:52.944693+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders/with-criteria [cid=2a198421]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "2a198421"}
{"timestamp": "2026-02-17T19:52:52.998597+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "Bulk lazy sync za 52 naloga bez/sa starim cache-om", "module": "mantis_service", "function": "get_sscc_summary_for_orders", "line": 279, "correlation_id": "5bb11cce"}
{"timestamp": "2026-02-17T19:52:53.017995+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync: 52 naloga, OrderCodes: ['4579-30', '2156-07', '4581-30', '5218-10', '8207-05', '1392-32', '5929-20', '8227-05', '7149-16', '4021-03']", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 112, "correlation_id": "5bb11cce"}
{"timestamp": "2026-02-17T19:53:08.123604+00:00", "level": "ERROR", "logger": "app.services.mantis_service", "message": "GreÅ¡ka pri Äitanju WMS-a (batch 0): (pyodbc.OperationalError) ('08001', '[08001] [Microsoft][ODBC Driver 17 for SQL Server]TCP Provider: The wait operation timed out.\\r\\n (258) (SQLDriverConnect); [08001] [Microsoft][ODBC Driver 17 for SQL Server]Login timeout expired (0); [08001] [Microsoft][ODBC Driver 17 for SQL Server]A network-related or instance-specific error has occurred while establishing a connection to SQL Server. Server is not found or not accessible. Check if instance name is correct and if SQL Server is configured to allow remote connections. For more information see SQL Server Books Online. (258)')\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 137, "correlation_id": "5bb11cce"}
{"timestamp": "2026-02-17T19:53:23.245574+00:00", "level": "ERROR", "logger": "app.services.mantis_service", "message": "GreÅ¡ka pri Äitanju WMS-a (batch 50): (pyodbc.OperationalError) ('08001', '[08001] [Microsoft][ODBC Driver 17 for SQL Server]TCP Provider: The wait operation timed out.\\r\\n (258) (SQLDriverConnect); [08001] [Microsoft][ODBC Driver 17 for SQL Server]Login timeout expired (0); [08001] [Microsoft][ODBC Driver 17 for SQL Server]A network-related or instance-specific error has occurred while establishing a connection to SQL Server. Server is not found or not accessible. Check if instance name is correct and if SQL Server is configured to allow remote connections. For more information see SQL Server Books Online. (258)')\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 137, "correlation_id": "5bb11cce"}
{"timestamp": "2026-02-17T19:53:23.245868+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS vratio 0 redaka za 52 naloga", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 140, "correlation_id": "5bb11cce"}
{"timestamp": "2026-02-17T19:53:23.262582+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync zavrÅ¡en: {'synced_orders': 52, 'total_items': 0, 'total_pallets': 0}", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 193, "correlation_id": "5bb11cce"}
{"timestamp": "2026-02-17T19:53:29.310427+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/auth/me [cid=56559532]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "56559532"}
{"timestamp": "2026-02-17T19:53:29.381186+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders [cid=1c275c6e]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "1c275c6e"}
{"timestamp": "2026-02-17T19:53:29.383428+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/vehicles [cid=1174daa9]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "1174daa9"}
{"timestamp": "2026-02-17T19:53:29.383796+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routes [cid=f16c9192]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "f16c9192"}
{"timestamp": "2026-02-17T19:53:33.354888+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/auth/logout [cid=f5a1b0dd]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "f5a1b0dd"}
{"timestamp": "2026-02-17T19:53:55.685158+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/auth/login [cid=749369fe]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "749369fe"}
{"timestamp": "2026-02-17T19:53:56.196047+00:00", "level": "INFO", "logger": "app.api.auth", "message": "Login: user=test05 ip=127.0.0.1", "module": "auth", "function": "login", "line": 177, "correlation_id": "749369fe"}
{"timestamp": "2026-02-17T19:54:10.602175+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/warehouses [cid=6997de85]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "6997de85"}
{"timestamp": "2026-02-17T19:54:27.297792+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/settings [cid=3b76639e]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "3b76639e"}
{"timestamp": "2026-02-17T19:54:27.298572+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/prioriteti [cid=81502f62]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "81502f62"}
{"timestamp": "2026-02-17T19:54:27.299039+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/statusi [cid=ccd9fcdb]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "ccd9fcdb"}
{"timestamp": "2026-02-17T19:54:34.038489+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/vrste-isporuke [cid=ec0ba81b]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "ec0ba81b"}
{"timestamp": "2026-02-17T19:54:34.040509+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/sync-statusi [cid=d2da78a4]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "d2da78a4"}
{"timestamp": "2026-02-17T19:55:13.101165+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/artikli-kriterija/artikl-sifre [cid=b9678f33]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "b9678f33"}
{"timestamp": "2026-02-17T19:55:13.102160+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routing/rutiranje-uids [cid=31d9fc48]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "31d9fc48"}
{"timestamp": "2026-02-17T19:55:13.102505+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders [cid=3eb35a53]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "3eb35a53"}
{"timestamp": "2026-02-17T19:55:13.103465+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders/with-criteria [cid=94fd02a5]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "94fd02a5"}
{"timestamp": "2026-02-17T19:55:13.402792+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/mantis/orders/bulk [cid=4e812fca]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "4e812fca"}
{"timestamp": "2026-02-17T19:55:13.436520+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "Bulk lazy sync za 52 naloga bez/sa starim cache-om", "module": "mantis_service", "function": "get_sscc_summary_for_orders", "line": 279, "correlation_id": "4e812fca"}
{"timestamp": "2026-02-17T19:55:13.463066+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync: 52 naloga, OrderCodes: ['5604-05', '5630-05', '5716-05', '5795-05', '5901-05', '6104-05', '6106-05', '6114-05', '6119-05', '6188-05']", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 112, "correlation_id": "4e812fca"}
{"timestamp": "2026-02-17T19:55:28.579056+00:00", "level": "ERROR", "logger": "app.services.mantis_service", "message": "GreÅ¡ka pri Äitanju WMS-a (batch 0): (pyodbc.OperationalError) ('08001', '[08001] [Microsoft][ODBC Driver 17 for SQL Server]TCP Provider: The wait operation timed out.\\r\\n (258) (SQLDriverConnect); [08001] [Microsoft][ODBC Driver 17 for SQL Server]Login timeout expired (0); [08001] [Microsoft][ODBC Driver 17 for SQL Server]A network-related or instance-specific error has occurred while establishing a connection to SQL Server. Server is not found or not accessible. Check if instance name is correct and if SQL Server is configured to allow remote connections. For more information see SQL Server Books Online. (258)')\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 137, "correlation_id": "4e812fca"}
{"timestamp": "2026-02-17T19:55:43.694666+00:00", "level": "ERROR", "logger": "app.services.mantis_service", "message": "GreÅ¡ka pri Äitanju WMS-a (batch 50): (pyodbc.OperationalError) ('08001', '[08001] [Microsoft][ODBC Driver 17 for SQL Server]TCP Provider: The wait operation timed out.\\r\\n (258) (SQLDriverConnect); [08001] [Microsoft][ODBC Driver 17 for SQL Server]Login timeout expired (0); [08001] [Microsoft][ODBC Driver 17 for SQL Server]A network-related or instance-specific error has occurred while establishing a connection to SQL Server. Server is not found or not accessible. Check if instance name is correct and if SQL Server is configured to allow remote connections. For more information see SQL Server Books Online. (258)')\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 137, "correlation_id": "4e812fca"}
{"timestamp": "2026-02-17T19:55:43.695117+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS vratio 0 redaka za 52 naloga", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 140, "correlation_id": "4e812fca"}
{"timestamp": "2026-02-17T19:55:43.716258+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync zavrÅ¡en: {'synced_orders': 52, 'total_items': 0, 'total_pallets': 0}", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 193, "correlation_id": "4e812fca"}
{"timestamp": "2026-02-17T19:56:02.423886+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders/17764811-2928 [cid=dce996ef]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "dce996ef"}
{"timestamp": "2026-02-17T19:56:02.469092+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/mantis/order/17764811-2928 [cid=68e17f37]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "68e17f37"}
{"timestamp": "2026-02-17T19:56:02.561617+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync: 1 naloga, OrderCodes: ['8184-05']", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 112, "correlation_id": "68e17f37"}
{"timestamp": "2026-02-17T19:56:17.678569+00:00", "level": "ERROR", "logger": "app.services.mantis_service", "message": "GreÅ¡ka pri Äitanju WMS-a (batch 0): (pyodbc.OperationalError) ('08001', '[08001] [Microsoft][ODBC Driver 17 for SQL Server]TCP Provider: The wait operation timed out.\\r\\n (258) (SQLDriverConnect); [08001] [Microsoft][ODBC Driver 17 for SQL Server]Login timeout expired (0); [08001] [Microsoft][ODBC Driver 17 for SQL Server]A network-related or instance-specific error has occurred while establishing a connection to SQL Server. Server is not found or not accessible. Check if instance name is correct and if SQL Server is configured to allow remote connections. For more information see SQL Server Books Online. (258)')\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 137, "correlation_id": "68e17f37"}
{"timestamp": "2026-02-17T19:56:17.678882+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS vratio 0 redaka za 1 naloga", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 140, "correlation_id": "68e17f37"}
{"timestamp": "2026-02-17T19:56:17.696940+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync zavrÅ¡en: {'synced_orders': 1, 'total_items': 0, 'total_pallets': 0}", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 193, "correlation_id": "68e17f37"}
{"timestamp": "2026-02-17T19:56:42.021815+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/mantis/orders/bulk [cid=16c20670]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "16c20670"}
{"timestamp": "2026-02-17T19:56:42.033930+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "Bulk lazy sync za 4 naloga bez/sa starim cache-om", "module": "mantis_service", "function": "get_sscc_summary_for_orders", "line": 279, "correlation_id": "16c20670"}
{"timestamp": "2026-02-17T19:56:42.048319+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync: 4 naloga, OrderCodes: ['6114-05', '6119-05', '7467-05', '7789-05']", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 112, "correlation_id": "16c20670"}
{"timestamp": "2026-02-17T19:56:51.560616+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders/17712058-2928 [cid=d1c80235]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "d1c80235"}
{"timestamp": "2026-02-17T19:56:51.577206+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/mantis/order/17712058-2928 [cid=3f93eb5f]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "3f93eb5f"}
{"timestamp": "2026-02-17T19:56:51.631487+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync: 1 naloga, OrderCodes: ['6114-05']", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 112, "correlation_id": "3f93eb5f"}
{"timestamp": "2026-02-17T19:56:57.161175+00:00", "level": "ERROR", "logger": "app.services.mantis_service", "message": "GreÅ¡ka pri Äitanju WMS-a (batch 0): (pyodbc.OperationalError) ('08001', '[08001] [Microsoft][ODBC Driver 17 for SQL Server]TCP Provider: The wait operation timed out.\\r\\n (258) (SQLDriverConnect); [08001] [Microsoft][ODBC Driver 17 for SQL Server]Login timeout expired (0); [08001] [Microsoft][ODBC Driver 17 for SQL Server]A network-related or instance-specific error has occurred while establishing a connection to SQL Server. Server is not found or not accessible. Check if instance name is correct and if SQL Server is configured to allow remote connections. For more information see SQL Server Books Online. (258)')\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 137, "correlation_id": "16c20670"}
{"timestamp": "2026-02-17T19:56:57.161449+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS vratio 0 redaka za 4 naloga", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 140, "correlation_id": "16c20670"}
{"timestamp": "2026-02-17T19:56:57.165706+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync zavrÅ¡en: {'synced_orders': 4, 'total_items': 0, 'total_pallets': 0}", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 193, "correlation_id": "16c20670"}
{"timestamp": "2026-02-17T19:57:06.743955+00:00", "level": "ERROR", "logger": "app.services.mantis_service", "message": "GreÅ¡ka pri Äitanju WMS-a (batch 0): (pyodbc.OperationalError) ('08001', '[08001] [Microsoft][ODBC Driver 17 for SQL Server]TCP Provider: The wait operation timed out.\\r\\n (258) (SQLDriverConnect); [08001] [Microsoft][ODBC Driver 17 for SQL Server]Login timeout expired (0); [08001] [Microsoft][ODBC Driver 17 for SQL Server]A network-related or instance-specific error has occurred while establishing a connection to SQL Server. Server is not found or not accessible. Check if instance name is correct and if SQL Server is configured to allow remote connections. For more information see SQL Server Books Online. (258)')\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 137, "correlation_id": "3f93eb5f"}
{"timestamp": "2026-02-17T19:57:06.744346+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS vratio 0 redaka za 1 naloga", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 140, "correlation_id": "3f93eb5f"}
{"timestamp": "2026-02-17T19:57:06.749382+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync zavrÅ¡en: {'synced_orders': 1, 'total_items': 0, 'total_pallets': 0}", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 193, "correlation_id": "3f93eb5f"}
{"timestamp": "2026-02-17T19:57:34.858099+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routes [cid=6b289c8b]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "6b289c8b"}
{"timestamp": "2026-02-17T19:58:10.308571+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/vehicles [cid=79646a62]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "79646a62"}
{"timestamp": "2026-02-17T19:58:10.334041+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/vehicle-types [cid=7006546b]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "7006546b"}
{"timestamp": "2026-02-17T19:58:10.336110+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/regions [cid=19361486]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "19361486"}
{"timestamp": "2026-02-17T19:58:10.342217+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/drivers [cid=a4aa5f89]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "a4aa5f89"}
{"timestamp": "2026-02-17T20:01:20.184050+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/vehicles [cid=d0e1fd6c]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "d0e1fd6c"}
{"timestamp": "2026-02-17T20:01:20.194583+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/vehicle-types [cid=64cb0405]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "64cb0405"}
{"timestamp": "2026-02-17T20:01:20.197508+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/regions [cid=d6f7b94d]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "d6f7b94d"}
{"timestamp": "2026-02-17T20:01:20.199654+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/drivers [cid=3c92998c]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "3c92998c"}
{"timestamp": "2026-02-17T20:01:27.265826+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/warehouses [cid=812fd328]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "812fd328"}
{"timestamp": "2026-02-17T20:03:29.731661+00:00", "level": "INFO", "logger": "app.main", "message": "Dodana kolona vozila.warehouse_id (INT)", "module": "main", "function": "_add_column_if_missing", "line": 81}
{"timestamp": "2026-02-17T20:03:29.739584+00:00", "level": "INFO", "logger": "app.main", "message": "Dodana kolona rute.warehouse_id (INT)", "module": "main", "function": "_add_column_if_missing", "line": 81}
{"timestamp": "2026-02-17T20:13:37.197700+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/warehouses [cid=a62ec017]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "a62ec017"}
{"timestamp": "2026-02-17T20:13:39.901429+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/auth/me [cid=0e5535c2]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "0e5535c2"}
{"timestamp": "2026-02-17T20:13:39.916772+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/auth/me [cid=eeab8a35]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "eeab8a35"}
{"timestamp": "2026-02-17T20:13:39.958935+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/warehouses [cid=9f81001e]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "9f81001e"}
{"timestamp": "2026-02-17T20:13:44.908751+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/vehicles [cid=142959f7]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "142959f7"}
{"timestamp": "2026-02-17T20:13:44.909275+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/vehicle-types [cid=4049f859]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "4049f859"}
{"timestamp": "2026-02-17T20:13:44.910982+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/regions [cid=42aac067]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "42aac067"}
{"timestamp": "2026-02-17T20:13:44.913909+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/drivers [cid=c2d5b0ae]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "c2d5b0ae"}
{"timestamp": "2026-02-17T20:14:10.926536+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routes [cid=1d2711da]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "1d2711da"}
{"timestamp": "2026-02-17T20:14:14.662242+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/auth/logout [cid=8e988a18]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "8e988a18"}
{"timestamp": "2026-02-17T20:14:32.829403+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/auth/login [cid=80424aea]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "80424aea"}
{"timestamp": "2026-02-17T20:14:33.426838+00:00", "level": "INFO", "logger": "app.api.auth", "message": "Login: user=admin ip=127.0.0.1", "module": "auth", "function": "login", "line": 177, "correlation_id": "80424aea"}
{"timestamp": "2026-02-17T20:14:33.534451+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders [cid=646abe47]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "646abe47"}
{"timestamp": "2026-02-17T20:14:33.548471+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routes [cid=b9b16480]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "b9b16480"}
{"timestamp": "2026-02-17T20:14:39.873905+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles [cid=7ee1be72]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "7ee1be72"}
{"timestamp": "2026-02-17T20:14:39.876439+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles/permissions/all [cid=843ee28c]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "843ee28c"}
{"timestamp": "2026-02-17T20:15:28.572997+00:00", "level": "INFO", "logger": "app.main", "message": "PUT /api/roles/2 [cid=aee7561f]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "aee7561f"}
{"timestamp": "2026-02-17T20:15:28.640491+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles [cid=a5bcc66d]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "a5bcc66d"}
{"timestamp": "2026-02-17T20:22:57.946042+00:00", "level": "INFO", "logger": "app.main", "message": "Dodana kolona vozaci.warehouse_id (INT)", "module": "main", "function": "_add_column_if_missing", "line": 81}
{"timestamp": "2026-02-17T20:24:40.980845+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles [cid=f0885158]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "f0885158"}
{"timestamp": "2026-02-17T20:24:40.989619+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles/permissions/all [cid=0b5fa454]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "0b5fa454"}
{"timestamp": "2026-02-17T20:24:47.672385+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/auth/me [cid=2754c5e3]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "2754c5e3"}
{"timestamp": "2026-02-17T20:24:47.695096+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/auth/me [cid=d72e900d]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "d72e900d"}
{"timestamp": "2026-02-17T20:24:47.773300+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles [cid=e40ca480]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "e40ca480"}
{"timestamp": "2026-02-17T20:24:47.774171+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles/permissions/all [cid=42ebc3ee]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "42ebc3ee"}
{"timestamp": "2026-02-17T20:25:00.214342+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/auth/me [cid=361dd39d]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "361dd39d"}
{"timestamp": "2026-02-17T20:25:00.214901+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/auth/me [cid=c6c9738d]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "c6c9738d"}
{"timestamp": "2026-02-17T20:25:00.283858+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles [cid=7405f7d3]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "7405f7d3"}
{"timestamp": "2026-02-17T20:25:00.285644+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles/permissions/all [cid=31939d13]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "31939d13"}
{"timestamp": "2026-02-17T20:27:19.119073+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles [cid=17dabcb8]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "17dabcb8"}
{"timestamp": "2026-02-17T20:27:19.123583+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles/permissions/all [cid=d1a20c23]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "d1a20c23"}
{"timestamp": "2026-02-17T20:27:27.059843+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/auth/me [cid=e06eeec7]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "e06eeec7"}
{"timestamp": "2026-02-17T20:27:27.060691+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/auth/me [cid=0bbe26de]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "0bbe26de"}
{"timestamp": "2026-02-17T20:27:27.135226+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles [cid=bf0c68c1]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "bf0c68c1"}
{"timestamp": "2026-02-17T20:27:27.136194+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles/permissions/all [cid=1f5cdfd7]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "1f5cdfd7"}
{"timestamp": "2026-02-17T20:30:01.105918+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles [cid=df034709]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "df034709"}
{"timestamp": "2026-02-17T20:30:01.107317+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles/permissions/all [cid=0baca2df]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "0baca2df"}
{"timestamp": "2026-02-17T20:33:10.458030+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles [cid=965492c6]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "965492c6"}
{"timestamp": "2026-02-17T20:33:10.460345+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles/permissions/all [cid=5676647d]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "5676647d"}
{"timestamp": "2026-02-17T20:33:19.638150+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/auth/me [cid=880dc24a]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "880dc24a"}
{"timestamp": "2026-02-17T20:33:19.652029+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/auth/me [cid=76d882ef]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "76d882ef"}
{"timestamp": "2026-02-17T20:33:19.673041+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles [cid=6f07a920]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "6f07a920"}
{"timestamp": "2026-02-17T20:33:19.673498+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles/permissions/all [cid=af57da1e]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "af57da1e"}
{"timestamp": "2026-02-17T20:35:13.169195+00:00", "level": "INFO", "logger": "app.main", "message": "PUT /api/roles/2/permissions [cid=d9196994]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "d9196994"}
{"timestamp": "2026-02-17T20:35:13.306836+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles [cid=5a92d94b]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "5a92d94b"}
{"timestamp": "2026-02-17T20:35:23.765772+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/auth/me [cid=bfa0f0ab]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "bfa0f0ab"}
{"timestamp": "2026-02-17T20:35:23.786089+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/auth/me [cid=52285fcb]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "52285fcb"}
{"timestamp": "2026-02-17T20:35:23.807350+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles [cid=8b90315a]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "8b90315a"}
{"timestamp": "2026-02-17T20:35:23.807988+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles/permissions/all [cid=9d945ec0]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "9d945ec0"}
{"timestamp": "2026-02-17T20:35:28.719962+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/warehouses [cid=8f966d9f]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "8f966d9f"}
{"timestamp": "2026-02-17T20:36:54.572769+00:00", "level": "INFO", "logger": "app.main", "message": "PUT /api/warehouses/26 [cid=22555afc]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "22555afc"}
{"timestamp": "2026-02-17T20:36:54.647326+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/warehouses [cid=289c79f8]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "289c79f8"}
{"timestamp": "2026-02-17T20:37:00.471138+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/audit [cid=c5f6def5]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "c5f6def5"}
{"timestamp": "2026-02-17T20:37:33.231295+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/users [cid=c45e6fac]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "c45e6fac"}
{"timestamp": "2026-02-17T20:37:33.235892+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles [cid=b6adcb45]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "b6adcb45"}
{"timestamp": "2026-02-17T20:38:09.940507+00:00", "level": "INFO", "logger": "app.main", "message": "PUT /api/users/2 [cid=dee88c92]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "dee88c92"}
{"timestamp": "2026-02-17T20:38:10.024758+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/users [cid=1b73c942]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "1b73c942"}
{"timestamp": "2026-02-17T20:38:20.962060+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/auth/logout [cid=292ae529]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "292ae529"}
{"timestamp": "2026-02-17T20:38:30.885990+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/auth/login [cid=110748bf]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "110748bf"}
{"timestamp": "2026-02-17T20:38:31.400106+00:00", "level": "INFO", "logger": "app.api.auth", "message": "Login: user=denmla ip=127.0.0.1", "module": "auth", "function": "login", "line": 177, "correlation_id": "110748bf"}
{"timestamp": "2026-02-17T20:38:31.473942+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders [cid=f65766b0]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "f65766b0"}
{"timestamp": "2026-02-17T20:38:31.475672+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/vehicles [cid=cbc68fbd]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "cbc68fbd"}
{"timestamp": "2026-02-17T20:38:31.480711+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routes [cid=03ec9fe8]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "03ec9fe8"}
{"timestamp": "2026-02-17T20:38:47.804429+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles [cid=55442134]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "55442134"}
{"timestamp": "2026-02-17T20:38:47.811092+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles/permissions/all [cid=5ffcab85]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "5ffcab85"}
{"timestamp": "2026-02-17T20:39:30.694006+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routes [cid=5ebeb45e]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "5ebeb45e"}
{"timestamp": "2026-02-17T20:39:36.523181+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/statusi [cid=71acab7e]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "71acab7e"}
{"timestamp": "2026-02-17T20:39:36.524448+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders [cid=d4108fb5]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "d4108fb5"}
{"timestamp": "2026-02-17T20:39:36.538758+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/settings [cid=6af10e10]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "6af10e10"}
{"timestamp": "2026-02-17T20:39:36.539656+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routing/rutiranje-uids [cid=8c8971d9]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "8c8971d9"}
{"timestamp": "2026-02-17T20:39:36.541854+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders/with-criteria [cid=81b8d5d0]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "81b8d5d0"}
{"timestamp": "2026-02-17T20:39:36.542288+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/artikli-kriterija/artikl-sifre [cid=7405266d]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "7405266d"}
{"timestamp": "2026-02-17T20:39:36.808791+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/mantis/orders/bulk [cid=60ade427]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "60ade427"}
{"timestamp": "2026-02-17T20:39:36.844201+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "Bulk lazy sync za 64 naloga bez/sa starim cache-om", "module": "mantis_service", "function": "get_sscc_summary_for_orders", "line": 279, "correlation_id": "60ade427"}
{"timestamp": "2026-02-17T20:39:36.861547+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync: 64 naloga, OrderCodes: ['4462-30', '4844-27', '4845-27', '2314-14', '1362-32', '3224-01', '4860-27', '3226-01', '3228-01', '1375-32']", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 112, "correlation_id": "60ade427"}
{"timestamp": "2026-02-17T20:39:51.973866+00:00", "level": "ERROR", "logger": "app.services.mantis_service", "message": "GreÅ¡ka pri Äitanju WMS-a (batch 0): (pyodbc.OperationalError) ('08001', '[08001] [Microsoft][ODBC Driver 17 for SQL Server]TCP Provider: The wait operation timed out.\\r\\n (258) (SQLDriverConnect); [08001] [Microsoft][ODBC Driver 17 for SQL Server]Login timeout expired (0); [08001] [Microsoft][ODBC Driver 17 for SQL Server]A network-related or instance-specific error has occurred while establishing a connection to SQL Server. Server is not found or not accessible. Check if instance name is correct and if SQL Server is configured to allow remote connections. For more information see SQL Server Books Online. (258)')\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 137, "correlation_id": "60ade427"}
{"timestamp": "2026-02-17T20:39:54.754634+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders/17768667-2928 [cid=0f0c82c4]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "0f0c82c4"}
{"timestamp": "2026-02-17T20:39:54.759781+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/mantis/order/17768667-2928 [cid=c1b4452e]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "c1b4452e"}
{"timestamp": "2026-02-17T20:39:54.852693+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync: 1 naloga, OrderCodes: ['4183-100']", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 112, "correlation_id": "c1b4452e"}
{"timestamp": "2026-02-17T20:40:07.091030+00:00", "level": "ERROR", "logger": "app.services.mantis_service", "message": "GreÅ¡ka pri Äitanju WMS-a (batch 50): (pyodbc.OperationalError) ('08001', '[08001] [Microsoft][ODBC Driver 17 for SQL Server]TCP Provider: The wait operation timed out.\\r\\n (258) (SQLDriverConnect); [08001] [Microsoft][ODBC Driver 17 for SQL Server]Login timeout expired (0); [08001] [Microsoft][ODBC Driver 17 for SQL Server]A network-related or instance-specific error has occurred while establishing a connection to SQL Server. Server is not found or not accessible. Check if instance name is correct and if SQL Server is configured to allow remote connections. For more information see SQL Server Books Online. (258)')\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 137, "correlation_id": "60ade427"}
{"timestamp": "2026-02-17T20:40:07.091627+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS vratio 0 redaka za 64 naloga", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 140, "correlation_id": "60ade427"}
{"timestamp": "2026-02-17T20:40:07.114221+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync zavrÅ¡en: {'synced_orders': 64, 'total_items': 0, 'total_pallets': 0}", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 193, "correlation_id": "60ade427"}
{"timestamp": "2026-02-17T20:40:09.971756+00:00", "level": "ERROR", "logger": "app.services.mantis_service", "message": "GreÅ¡ka pri Äitanju WMS-a (batch 0): (pyodbc.OperationalError) ('08001', '[08001] [Microsoft][ODBC Driver 17 for SQL Server]TCP Provider: The wait operation timed out.\\r\\n (258) (SQLDriverConnect); [08001] [Microsoft][ODBC Driver 17 for SQL Server]Login timeout expired (0); [08001] [Microsoft][ODBC Driver 17 for SQL Server]A network-related or instance-specific error has occurred while establishing a connection to SQL Server. Server is not found or not accessible. Check if instance name is correct and if SQL Server is configured to allow remote connections. For more information see SQL Server Books Online. (258)')\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 137, "correlation_id": "c1b4452e"}
{"timestamp": "2026-02-17T20:40:09.972121+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS vratio 0 redaka za 1 naloga", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 140, "correlation_id": "c1b4452e"}
{"timestamp": "2026-02-17T20:40:09.976604+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync zavrÅ¡en: {'synced_orders': 1, 'total_items': 0, 'total_pallets': 0}", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 193, "correlation_id": "c1b4452e"}
{"timestamp": "2026-02-17T20:40:17.993376+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/users [cid=c9e32763]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "c9e32763"}
{"timestamp": "2026-02-17T20:40:18.005534+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles [cid=53cdab1d]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "53cdab1d"}
{"timestamp": "2026-02-17T20:40:18.006964+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/warehouses [cid=e0ffe8b5]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "e0ffe8b5"}
{"timestamp": "2026-02-17T20:40:30.190752+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles/permissions/all [cid=063074e5]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "063074e5"}
{"timestamp": "2026-02-17T20:40:32.661885+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/auth/logout [cid=314c7709]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "314c7709"}
{"timestamp": "2026-02-17T20:41:07.324728+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/auth/login [cid=80625bac]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "80625bac"}
{"timestamp": "2026-02-17T20:41:07.788281+00:00", "level": "INFO", "logger": "app.api.auth", "message": "Login: user=admin ip=127.0.0.1", "module": "auth", "function": "login", "line": 177, "correlation_id": "80625bac"}
{"timestamp": "2026-02-17T20:41:07.857155+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders [cid=0090700b]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "0090700b"}
{"timestamp": "2026-02-17T20:41:07.858065+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/vehicles [cid=a0f8b1c5]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "a0f8b1c5"}
{"timestamp": "2026-02-17T20:41:07.858451+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routes [cid=8424fc0f]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "8424fc0f"}
{"timestamp": "2026-02-17T20:41:42.408737+00:00", "level": "INFO", "logger": "app.main", "message": "PUT /api/roles/2/permissions [cid=292ad5ad]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "292ad5ad"}
{"timestamp": "2026-02-17T20:41:42.544986+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles [cid=21e1eb0f]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "21e1eb0f"}
{"timestamp": "2026-02-17T20:41:53.704622+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/audit [cid=be929d10]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "be929d10"}
{"timestamp": "2026-02-17T20:43:23.039344+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/audit [cid=81febd4b]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "81febd4b"}
{"timestamp": "2026-02-17T20:46:16.752358+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/audit [cid=df5c9878]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "df5c9878"}
{"timestamp": "2026-02-17T20:46:19.648225+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/auth/me [cid=d981f905]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "d981f905"}
{"timestamp": "2026-02-17T20:46:19.721443+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/auth/me [cid=428fb849]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "428fb849"}
{"timestamp": "2026-02-17T20:46:19.742419+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/audit [cid=4f46bc5f]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "4f46bc5f"}
{"timestamp": "2026-02-17T20:47:16.161379+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/users [cid=ee4bc0d6]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "ee4bc0d6"}
{"timestamp": "2026-02-17T20:47:16.162602+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles [cid=9593e6db]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "9593e6db"}
{"timestamp": "2026-02-17T20:47:16.163731+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/warehouses [cid=96a723da]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "96a723da"}
{"timestamp": "2026-02-17T20:47:20.452866+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routes [cid=bd640e88]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "bd640e88"}
{"timestamp": "2026-02-17T20:47:26.808825+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/vehicles [cid=1b0601f6]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "1b0601f6"}
{"timestamp": "2026-02-17T20:47:26.810058+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/regions [cid=cb072f6e]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "cb072f6e"}
{"timestamp": "2026-02-17T20:47:26.810453+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/drivers [cid=50adbe4b]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "50adbe4b"}
{"timestamp": "2026-02-17T20:47:26.810781+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/vehicle-types [cid=4d11c992]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "4d11c992"}
{"timestamp": "2026-02-17T20:48:45.605537+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/drivers [cid=054d99e3]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "054d99e3"}
{"timestamp": "2026-02-17T20:48:45.640461+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/drivers [cid=d5723cf2]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "d5723cf2"}
{"timestamp": "2026-02-17T20:49:02.611632+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/regions [cid=1c279ed8]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "1c279ed8"}
{"timestamp": "2026-02-17T20:49:02.612556+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/regions/tree [cid=dd434deb]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "dd434deb"}
{"timestamp": "2026-02-17T20:49:02.613014+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/postal-codes [cid=9f4164c8]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "9f4164c8"}
{"timestamp": "2026-02-17T20:49:13.454060+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/grupe-artikala [cid=6027c67d]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "6027c67d"}
{"timestamp": "2026-02-17T20:49:21.768895+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/artikli [cid=abbdd3f9]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "abbdd3f9"}
{"timestamp": "2026-02-17T20:49:21.778534+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/kriterije-sku [cid=5d82d94c]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "5d82d94c"}
{"timestamp": "2026-02-17T20:49:21.779625+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/artikli-kriterija [cid=302b46f6]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "302b46f6"}
{"timestamp": "2026-02-17T20:49:33.424833+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders [cid=b187b265]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "b187b265"}
{"timestamp": "2026-02-17T20:49:33.425795+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/statusi [cid=8be19057]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "8be19057"}
{"timestamp": "2026-02-17T20:49:33.426128+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/settings [cid=de1c369b]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "de1c369b"}
{"timestamp": "2026-02-17T20:49:33.435324+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routing/rutiranje-uids [cid=2880cdb6]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "2880cdb6"}
{"timestamp": "2026-02-17T20:49:33.437733+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders/with-criteria [cid=e767ec4d]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "e767ec4d"}
{"timestamp": "2026-02-17T20:49:33.450277+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/artikli-kriterija/artikl-sifre [cid=68340334]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "68340334"}
{"timestamp": "2026-02-17T20:49:33.766891+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/mantis/orders/bulk [cid=f0d6c3f3]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "f0d6c3f3"}
{"timestamp": "2026-02-17T20:49:33.788354+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "Bulk lazy sync za 52 naloga bez/sa starim cache-om", "module": "mantis_service", "function": "get_sscc_summary_for_orders", "line": 279, "correlation_id": "f0d6c3f3"}
{"timestamp": "2026-02-17T20:49:33.812846+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync: 52 naloga, OrderCodes: ['4579-30', '2156-07', '4581-30', '5218-10', '8207-05', '1392-32', '5929-20', '8227-05', '7149-16', '4021-03']", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 112, "correlation_id": "f0d6c3f3"}
{"timestamp": "2026-02-17T20:49:35.094923+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routes [cid=d618df1a]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "d618df1a"}
{"timestamp": "2026-02-17T20:49:48.941799+00:00", "level": "ERROR", "logger": "app.services.mantis_service", "message": "GreÅ¡ka pri Äitanju WMS-a (batch 0): (pyodbc.OperationalError) ('08001', '[08001] [Microsoft][ODBC Driver 17 for SQL Server]TCP Provider: The wait operation timed out.\\r\\n (258) (SQLDriverConnect); [08001] [Microsoft][ODBC Driver 17 for SQL Server]Login timeout expired (0); [08001] [Microsoft][ODBC Driver 17 for SQL Server]A network-related or instance-specific error has occurred while establishing a connection to SQL Server. Server is not found or not accessible. Check if instance name is correct and if SQL Server is configured to allow remote connections. For more information see SQL Server Books Online. (258)')\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 137, "correlation_id": "f0d6c3f3"}
{"timestamp": "2026-02-17T20:50:03.957848+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routing/rutiranje-nalozi [cid=a6835dde]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "a6835dde"}
{"timestamp": "2026-02-17T20:50:03.971267+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/provider [cid=afad5d14]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "afad5d14"}
{"timestamp": "2026-02-17T20:50:03.971735+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/vehicles [cid=d16dc915]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "d16dc915"}
{"timestamp": "2026-02-17T20:50:03.973221+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/vehicle-types [cid=aaca6fb4]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "aaca6fb4"}
{"timestamp": "2026-02-17T20:50:04.062364+00:00", "level": "ERROR", "logger": "app.services.mantis_service", "message": "GreÅ¡ka pri Äitanju WMS-a (batch 50): (pyodbc.OperationalError) ('08001', '[08001] [Microsoft][ODBC Driver 17 for SQL Server]TCP Provider: The wait operation timed out.\\r\\n (258) (SQLDriverConnect); [08001] [Microsoft][ODBC Driver 17 for SQL Server]Login timeout expired (0); [08001] [Microsoft][ODBC Driver 17 for SQL Server]A network-related or instance-specific error has occurred while establishing a connection to SQL Server. Server is not found or not accessible. Check if instance name is correct and if SQL Server is configured to allow remote connections. For more information see SQL Server Books Online. (258)')\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 137, "correlation_id": "f0d6c3f3"}
{"timestamp": "2026-02-17T20:50:04.062650+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS vratio 0 redaka za 52 naloga", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 140, "correlation_id": "f0d6c3f3"}
{"timestamp": "2026-02-17T20:50:04.074540+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync zavrÅ¡en: {'synced_orders': 52, 'total_items': 0, 'total_pallets': 0}", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 193, "correlation_id": "f0d6c3f3"}
{"timestamp": "2026-02-17T20:50:06.492673+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders [cid=a6a5e171]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "a6a5e171"}
{"timestamp": "2026-02-17T20:50:06.493756+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routes [cid=dfd35727]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "dfd35727"}
{"timestamp": "2026-02-17T20:53:58.186432+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders [cid=3c288376]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "3c288376"}
{"timestamp": "2026-02-17T20:53:58.187302+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/vehicles [cid=8cdaeab6]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "8cdaeab6"}
{"timestamp": "2026-02-17T20:53:58.187836+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routes [cid=3a50e672]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "3a50e672"}
{"timestamp": "2026-02-17T20:54:05.304718+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/auth/me [cid=ecb8e00d]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "ecb8e00d"}
{"timestamp": "2026-02-17T20:54:05.342889+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/auth/me [cid=0aaa7fc4]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "0aaa7fc4"}
{"timestamp": "2026-02-17T20:54:05.373595+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders [cid=12f25a14]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "12f25a14"}
{"timestamp": "2026-02-17T20:54:05.382051+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/vehicles [cid=766f3a77]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "766f3a77"}
{"timestamp": "2026-02-17T20:54:05.382782+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routes [cid=110ff07f]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "110ff07f"}
{"timestamp": "2026-02-17T20:54:09.725233+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routes [cid=a73a9db9]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "a73a9db9"}
{"timestamp": "2026-02-17T20:54:40.245074+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders [cid=8ffaa9be]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "8ffaa9be"}
{"timestamp": "2026-02-17T20:54:40.260584+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/statusi [cid=4e09dffb]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "4e09dffb"}
{"timestamp": "2026-02-17T20:54:40.263521+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/settings [cid=88d7bea4]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "88d7bea4"}
{"timestamp": "2026-02-17T20:54:40.273245+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routing/rutiranje-uids [cid=e559cbcf]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "e559cbcf"}
{"timestamp": "2026-02-17T20:54:40.274290+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders/with-criteria [cid=2dc8a4d0]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "2dc8a4d0"}
{"timestamp": "2026-02-17T20:54:40.282367+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/artikli-kriterija/artikl-sifre [cid=7b0b1fa6]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "7b0b1fa6"}
{"timestamp": "2026-02-17T20:54:40.632753+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/mantis/orders/bulk [cid=29c63afa]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "29c63afa"}
{"timestamp": "2026-02-17T20:54:40.774261+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "Bulk lazy sync za 52 naloga bez/sa starim cache-om", "module": "mantis_service", "function": "get_sscc_summary_for_orders", "line": 279, "correlation_id": "29c63afa"}
{"timestamp": "2026-02-17T20:54:40.802296+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync: 52 naloga, OrderCodes: ['4579-30', '2156-07', '4581-30', '5218-10', '8207-05', '1392-32', '5929-20', '8227-05', '7149-16', '4021-03']", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 112, "correlation_id": "29c63afa"}
{"timestamp": "2026-02-17T20:54:41.745389+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/artikli [cid=cd34511f]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "cd34511f"}
{"timestamp": "2026-02-17T20:54:41.747256+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/kriterije-sku [cid=5076b95f]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "5076b95f"}
{"timestamp": "2026-02-17T20:54:41.749141+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/artikli-kriterija [cid=77f21477]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "77f21477"}
{"timestamp": "2026-02-17T20:54:45.225953+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/grupe-artikala [cid=65794975]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "65794975"}
{"timestamp": "2026-02-17T20:54:46.288683+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/v1/warehouses [cid=c943dbc7]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "c943dbc7"}
{"timestamp": "2026-02-17T20:54:46.332782+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/vehicle-types [cid=ba200676]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "ba200676"}
{"timestamp": "2026-02-17T20:54:46.345871+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/regions [cid=3b20936e]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "3b20936e"}
{"timestamp": "2026-02-17T20:54:46.348355+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/drivers [cid=8a25ce53]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "8a25ce53"}
{"timestamp": "2026-02-17T20:54:55.916047+00:00", "level": "ERROR", "logger": "app.services.mantis_service", "message": "GreÅ¡ka pri Äitanju WMS-a (batch 0): (pyodbc.OperationalError) ('08001', '[08001] [Microsoft][ODBC Driver 17 for SQL Server]TCP Provider: The wait operation timed out.\\r\\n (258) (SQLDriverConnect); [08001] [Microsoft][ODBC Driver 17 for SQL Server]Login timeout expired (0); [08001] [Microsoft][ODBC Driver 17 for SQL Server]A network-related or instance-specific error has occurred while establishing a connection to SQL Server. Server is not found or not accessible. Check if instance name is correct and if SQL Server is configured to allow remote connections. For more information see SQL Server Books Online. (258)')\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 137, "correlation_id": "29c63afa"}
{"timestamp": "2026-02-17T20:55:06.871628+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/users [cid=705081e4]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "705081e4"}
{"timestamp": "2026-02-17T20:55:06.875246+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles [cid=232e0df1]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "232e0df1"}
{"timestamp": "2026-02-17T20:55:11.036026+00:00", "level": "ERROR", "logger": "app.services.mantis_service", "message": "GreÅ¡ka pri Äitanju WMS-a (batch 50): (pyodbc.OperationalError) ('08001', '[08001] [Microsoft][ODBC Driver 17 for SQL Server]TCP Provider: The wait operation timed out.\\r\\n (258) (SQLDriverConnect); [08001] [Microsoft][ODBC Driver 17 for SQL Server]Login timeout expired (0); [08001] [Microsoft][ODBC Driver 17 for SQL Server]A network-related or instance-specific error has occurred while establishing a connection to SQL Server. Server is not found or not accessible. Check if instance name is correct and if SQL Server is configured to allow remote connections. For more information see SQL Server Books Online. (258)')\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 137, "correlation_id": "29c63afa"}
{"timestamp": "2026-02-17T20:55:11.036501+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS vratio 0 redaka za 52 naloga", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 140, "correlation_id": "29c63afa"}
{"timestamp": "2026-02-17T20:55:11.062358+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync zavrÅ¡en: {'synced_orders': 52, 'total_items': 0, 'total_pallets': 0}", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 193, "correlation_id": "29c63afa"}
{"timestamp": "2026-02-17T20:55:16.626146+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles/permissions/all [cid=1ac1d219]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "1ac1d219"}
{"timestamp": "2026-02-17T20:55:27.830958+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/prioriteti [cid=02b07d6d]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "02b07d6d"}
{"timestamp": "2026-02-17T20:55:48.084840+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/warehouses [cid=4797225e]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "4797225e"}
{"timestamp": "2026-02-17T20:57:11.225078+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/warehouses [cid=9835de22]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "9835de22"}
{"timestamp": "2026-02-17T21:00:17.721581+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/warehouses [cid=9388994e]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "9388994e"}
{"timestamp": "2026-02-17T21:10:16.479274+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/warehouses [cid=6dde240c]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "6dde240c"}
{"timestamp": "2026-02-17T21:10:18.684723+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders [cid=7fdb256b]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "7fdb256b"}
{"timestamp": "2026-02-17T21:10:18.691728+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/statusi [cid=874ad039]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "874ad039"}
{"timestamp": "2026-02-17T21:10:18.701159+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/settings [cid=4f5406db]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "4f5406db"}
{"timestamp": "2026-02-17T21:10:18.702217+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routing/rutiranje-uids [cid=65e04811]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "65e04811"}
{"timestamp": "2026-02-17T21:10:18.706551+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/artikli-kriterija/artikl-sifre [cid=11f739f0]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "11f739f0"}
{"timestamp": "2026-02-17T21:10:18.707122+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders/with-criteria [cid=7f070cfa]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "7f070cfa"}
{"timestamp": "2026-02-17T21:10:19.070199+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/mantis/orders/bulk [cid=098a1de2]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "098a1de2"}
{"timestamp": "2026-02-17T21:10:19.227071+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "Bulk lazy sync za 52 naloga bez/sa starim cache-om", "module": "mantis_service", "function": "get_sscc_summary_for_orders", "line": 279, "correlation_id": "098a1de2"}
{"timestamp": "2026-02-17T21:10:19.254610+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync: 52 naloga, OrderCodes: ['4579-30', '2156-07', '4581-30', '5218-10', '8207-05', '1392-32', '5929-20', '8227-05', '7149-16', '4021-03']", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 112, "correlation_id": "098a1de2"}
{"timestamp": "2026-02-17T21:10:34.371339+00:00", "level": "ERROR", "logger": "app.services.mantis_service", "message": "GreÅ¡ka pri Äitanju WMS-a (batch 0): (pyodbc.OperationalError) ('08001', '[08001] [Microsoft][ODBC Driver 17 for SQL Server]TCP Provider: The wait operation timed out.\\r\\n (258) (SQLDriverConnect); [08001] [Microsoft][ODBC Driver 17 for SQL Server]Login timeout expired (0); [08001] [Microsoft][ODBC Driver 17 for SQL Server]A network-related or instance-specific error has occurred while establishing a connection to SQL Server. Server is not found or not accessible. Check if instance name is correct and if SQL Server is configured to allow remote connections. For more information see SQL Server Books Online. (258)')\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 137, "correlation_id": "098a1de2"}
{"timestamp": "2026-02-17T21:10:49.497712+00:00", "level": "ERROR", "logger": "app.services.mantis_service", "message": "GreÅ¡ka pri Äitanju WMS-a (batch 50): (pyodbc.OperationalError) ('08001', '[08001] [Microsoft][ODBC Driver 17 for SQL Server]TCP Provider: The wait operation timed out.\\r\\n (258) (SQLDriverConnect); [08001] [Microsoft][ODBC Driver 17 for SQL Server]Login timeout expired (0); [08001] [Microsoft][ODBC Driver 17 for SQL Server]A network-related or instance-specific error has occurred while establishing a connection to SQL Server. Server is not found or not accessible. Check if instance name is correct and if SQL Server is configured to allow remote connections. For more information see SQL Server Books Online. (258)')\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 137, "correlation_id": "098a1de2"}
{"timestamp": "2026-02-17T21:10:49.498075+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS vratio 0 redaka za 52 naloga", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 140, "correlation_id": "098a1de2"}
{"timestamp": "2026-02-17T21:10:49.516034+00:00", "level": "INFO", "logger": "app.services.mantis_service", "message": "WMS sync zavrÅ¡en: {'synced_orders': 52, 'total_items': 0, 'total_pallets': 0}", "module": "mantis_service", "function": "sync_orders_from_wms", "line": 193, "correlation_id": "098a1de2"}
{"timestamp": "2026-02-17T21:13:05.889995+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/mantis/orders/bulk [cid=5653935f]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "5653935f"}
{"timestamp": "2026-02-17T21:13:05.892012+00:00", "level": "WARNING", "logger": "app.main", "message": "POST /api/mantis/orders/bulk -> 401 (2ms) [cid=5653935f]", "module": "main", "function": "log_requests", "line": 51, "correlation_id": "5653935f"}
{"timestamp": "2026-02-17T21:13:05.892878+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders [cid=dd6c7382]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "dd6c7382"}
{"timestamp": "2026-02-17T21:13:05.895882+00:00", "level": "WARNING", "logger": "app.main", "message": "GET /api/orders -> 401 (3ms) [cid=dd6c7382]", "module": "main", "function": "log_requests", "line": 51, "correlation_id": "dd6c7382"}
{"timestamp": "2026-02-17T21:13:05.951234+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/statusi [cid=ede870c7]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "ede870c7"}
{"timestamp": "2026-02-17T21:13:05.953168+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/settings [cid=2f9614a4]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "2f9614a4"}
{"timestamp": "2026-02-17T21:13:05.953685+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routing/rutiranje-uids [cid=c3d6bbe5]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "c3d6bbe5"}
{"timestamp": "2026-02-17T21:13:05.954338+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders/with-criteria [cid=bf30520d]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "bf30520d"}
{"timestamp": "2026-02-17T21:13:05.954469+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/artikli-kriterija/artikl-sifre [cid=f6bfe9c6]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "f6bfe9c6"}
{"timestamp": "2026-02-17T21:13:05.958471+00:00", "level": "WARNING", "logger": "app.main", "message": "GET /api/statusi -> 401 (7ms) [cid=ede870c7]", "module": "main", "function": "log_requests", "line": 51, "correlation_id": "ede870c7"}
{"timestamp": "2026-02-17T21:13:05.959799+00:00", "level": "WARNING", "logger": "app.main", "message": "GET /api/orders/with-criteria -> 401 (5ms) [cid=bf30520d]", "module": "main", "function": "log_requests", "line": 51, "correlation_id": "bf30520d"}
{"timestamp": "2026-02-17T21:13:05.960159+00:00", "level": "WARNING", "logger": "app.main", "message": "GET /api/settings -> 401 (7ms) [cid=2f9614a4]", "module": "main", "function": "log_requests", "line": 51, "correlation_id": "2f9614a4"}
{"timestamp": "2026-02-17T21:13:05.960366+00:00", "level": "WARNING", "logger": "app.main", "message": "GET /api/routing/rutiranje-uids -> 401 (7ms) [cid=c3d6bbe5]", "module": "main", "function": "log_requests", "line": 51, "correlation_id": "c3d6bbe5"}
{"timestamp": "2026-02-17T21:13:05.961095+00:00", "level": "WARNING", "logger": "app.main", "message": "GET /api/artikli-kriterija/artikl-sifre -> 401 (7ms) [cid=f6bfe9c6]", "module": "main", "function": "log_requests", "line": 51, "correlation_id": "f6bfe9c6"}
{"timestamp": "2026-02-17T21:23:44.284398+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/auth/login [cid=53f9badf]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "53f9badf"}
{"timestamp": "2026-02-17T21:23:44.745718+00:00", "level": "INFO", "logger": "app.api.auth", "message": "Login: user=admin ip=127.0.0.1", "module": "auth", "function": "login", "line": 177, "correlation_id": "53f9badf"}
{"timestamp": "2026-02-17T21:23:44.814906+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders [cid=91eb0e5c]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "91eb0e5c"}
{"timestamp": "2026-02-17T21:23:44.818108+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/vehicles [cid=bc56ceba]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "bc56ceba"}
{"timestamp": "2026-02-17T21:23:44.821692+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routes [cid=86a1cd51]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "86a1cd51"}
{"timestamp": "2026-02-17T21:25:14.032486+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders [cid=b7933725]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "b7933725"}
{"timestamp": "2026-02-17T21:25:14.033473+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/vehicles [cid=92482bd5]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "92482bd5"}
{"timestamp": "2026-02-17T21:25:14.034765+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routes [cid=527d63ab]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "527d63ab"}
{"timestamp": "2026-02-17T21:28:15.212215+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders [cid=f27f49cd]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "f27f49cd"}
{"timestamp": "2026-02-17T21:28:15.217825+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/vehicles [cid=9819c2b0]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "9819c2b0"}
{"timestamp": "2026-02-17T21:28:15.223918+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routes [cid=bb984e76]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "bb984e76"}
{"timestamp": "2026-02-17T21:28:19.053755+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/users [cid=f478b7d3]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "f478b7d3"}
{"timestamp": "2026-02-17T21:28:19.054894+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles [cid=62ed7a56]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "62ed7a56"}
{"timestamp": "2026-02-17T21:28:19.055225+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/warehouses [cid=3be51b40]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "3be51b40"}
{"timestamp": "2026-02-17T21:29:21.136759+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/vehicles [cid=1be94fd1]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "1be94fd1"}
{"timestamp": "2026-02-17T21:29:21.142393+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/vehicle-types [cid=ca40c08f]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "ca40c08f"}
{"timestamp": "2026-02-17T21:29:21.170334+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/regions [cid=b6db043d]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "b6db043d"}
{"timestamp": "2026-02-17T21:29:21.170726+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/v1/warehouses [cid=e6956bb1]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "e6956bb1"}
{"timestamp": "2026-02-17T21:29:21.172700+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/drivers [cid=ef03b562]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "ef03b562"}
{"timestamp": "2026-02-17T21:48:45.193434+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/auth/refresh [cid=3ecd67a9]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "3ecd67a9"}
{"timestamp": "2026-02-17T22:02:20.762603+00:00", "level": "INFO", "logger": "app.main", "message": "Dodana kolona driver_sessions.on_duty (BIT)", "module": "main", "function": "_add_column_if_missing", "line": 81}
{"timestamp": "2026-02-17T22:02:20.775444+00:00", "level": "INFO", "logger": "app.main", "message": "Dodana kolona delivery_proofs.nalog_prodaje_uid (NVARCHAR(50))", "module": "main", "function": "_add_column_if_missing", "line": 81}
{"timestamp": "2026-02-17T22:02:20.786948+00:00", "level": "INFO", "logger": "app.main", "message": "Dodana kolona delivery_proofs.photo_paths (NVARCHAR(MAX))", "module": "main", "function": "_add_column_if_missing", "line": 81}
{"timestamp": "2026-02-17T22:50:56.743090+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/auth/me [cid=ffd7ac85]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "ffd7ac85"}
{"timestamp": "2026-02-17T22:50:56.754636+00:00", "level": "WARNING", "logger": "app.main", "message": "GET /api/auth/me -> 401 (13ms) [cid=ffd7ac85]", "module": "main", "function": "log_requests", "line": 51, "correlation_id": "ffd7ac85"}
{"timestamp": "2026-02-17T22:50:56.786873+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/auth/me [cid=609498ac]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "609498ac"}
{"timestamp": "2026-02-17T22:50:56.790035+00:00", "level": "WARNING", "logger": "app.main", "message": "GET /api/auth/me -> 401 (3ms) [cid=609498ac]", "module": "main", "function": "log_requests", "line": 51, "correlation_id": "609498ac"}
{"timestamp": "2026-02-17T22:51:08.796544+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/auth/login [cid=361a21f1]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "361a21f1"}
{"timestamp": "2026-02-17T22:51:09.319988+00:00", "level": "INFO", "logger": "app.api.auth", "message": "Login: user=admin ip=127.0.0.1", "module": "auth", "function": "login", "line": 177, "correlation_id": "361a21f1"}
{"timestamp": "2026-02-17T22:51:09.463384+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/orders [cid=e3b73a42]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "e3b73a42"}
{"timestamp": "2026-02-17T22:51:09.465024+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/routes [cid=24c1eabd]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "24c1eabd"}
{"timestamp": "2026-02-17T22:51:09.465531+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/vehicles [cid=dbf482f3]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "dbf482f3"}
{"timestamp": "2026-02-17T22:51:21.993669+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/users [cid=a5c8cd6d]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "a5c8cd6d"}
{"timestamp": "2026-02-17T22:51:21.995229+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/warehouses [cid=a30b34d3]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "a30b34d3"}
{"timestamp": "2026-02-17T22:51:21.995694+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles [cid=976abd38]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "976abd38"}
{"timestamp": "2026-02-17T22:52:19.560292+00:00", "level": "INFO", "logger": "app.main", "message": "POST /api/users [cid=50fb5aec]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "50fb5aec"}
{"timestamp": "2026-02-17T22:52:20.262237+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/users [cid=e8316828]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "e8316828"}
{"timestamp": "2026-02-17T22:59:34.320230+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/users [cid=8d6364ff]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "8d6364ff"}
{"timestamp": "2026-02-17T22:59:34.321433+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/roles [cid=db8e8cc0]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "db8e8cc0"}
{"timestamp": "2026-02-17T22:59:34.332334+00:00", "level": "INFO", "logger": "app.main", "message": "GET /api/warehouses [cid=12705ba8]", "module": "main", "function": "log_requests", "line": 46, "correlation_id": "12705ba8"}
